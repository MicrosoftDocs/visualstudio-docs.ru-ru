---
title: Справочник по схеме расширения VSIX 2,0 | Документация Майкрософт
description: В схеме расширения VSIX 2,0 определяется формат файла манифеста развертывания VSIX, который описывает содержимое пакета VSIX.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- vsix
- extension schema
ms.assetid: 0da81b98-f5e3-40d3-ba9a-94551378d0b4
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: d1b94c7b2cacb7ad78031721156bdd90cb666c4f
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105062295"
---
# <a name="vsix-extension-schema-20-reference"></a>Справочник по схеме расширения VSIX 2,0
Файл манифеста развертывания VSIX описывает содержимое пакета VSIX. Формат файла регулируется схемой. Версия 2,0 этой схемы поддерживает добавление пользовательских типов и атрибутов.  Схема манифеста является расширяемой. Загрузчик манифеста не учитывает XML-элементы и атрибуты, которые он не понимает.

> [!IMPORTANT]
> Visual Studio 2015 может загружать VSIX файлы в форматах Visual Studio 2010, Visual Studio 2012 или Visual Studio 2013.

## <a name="package-manifest-schema"></a>Схема манифеста пакета
 Корневым элементом XML-файла манифеста является `<PackageManifest>` . Он имеет единственный атрибут `Version` , который является версией формата манифеста. Если в формат вносятся значительные изменения, формат версии изменяется. В этой статье описывается формат манифеста версии 2,0, который указывается в манифесте путем присвоения `Version` атрибуту значения Version = "2.0".

### <a name="packagemanifest-element"></a>PackageManifest, элемент
 В `<PackageManifest>` корневом элементе можно использовать следующие элементы:

- `<Metadata>` — Метаданные и рекламные сведения о самом пакете. `Metadata`В манифесте допускается только один элемент.

- `<Installation>` — Этот раздел определяет способ установки этого пакета расширения, включая номера SKU приложений, в которые он может устанавливаться. `Installation`В манифесте допускается только один элемент. Манифест должен содержать `Installation` элемент, или этот пакет не будет устанавливаться ни в один SKU.

- `<Dependencies>` — Дополнительный список зависимостей для этого пакета определяется здесь.

- `<Assets>` — Этот раздел содержит все ресурсы, содержащиеся в этом пакете. Без этого раздела содержимое этого пакета не будет отображаться.

- `<AnyElement>*` — Схема манифеста достаточно гибка, чтобы разрешить любые другие элементы. Все дочерние элементы, не распознаваемые загрузчиком манифеста, предоставляются в API диспетчера расширений как дополнительные объекты XmlElement. Используя эти дочерние элементы, расширения VSIX могут определять дополнительные данные в файле манифеста, которые код, выполняемый в Visual Studio, может получить доступ во время выполнения. См. [Microsoft. VisualStudio. екстенсионманажер. IExtension. аддитионалелементс](/previous-versions/visualstudio/visual-studio-2013/hh265266(v=vs.120)).

### <a name="metadata-element"></a>Элемент Metadata
 Этот раздел представляет собой метаданные о пакете, его удостоверении и сведения о рекламе. `<Metadata>` содержит следующие элементы:

- `<Identity>` — Определяет идентификационную информацию для этого пакета и включает следующие атрибуты:

  - `Id` — Этот атрибут должен быть уникальным ИДЕНТИФИКАТОРом для пакета, выбранного его автором. Имя должно быть уточнено таким же образом, как и типы CLR: Company.Product.Feature.Name. `Id`Длина атрибута ограничена 100 символами.

  - `Version` — Определяет версию пакета и его содержимое. Этот атрибут следует за форматом версий сборки среды CLR: основной. дополнительный. сборка. Редакция (1.2.40308.00). Пакет с более высоким номером версии считается обновлениями пакета и может быть установлен поверх существующей установленной версии.

  - `Language` — Этот атрибут является языком по умолчанию для пакета и соответствует текстовым данным в этом манифесте. Этот атрибут следует соглашению о коде языка CLR для сборок ресурсов, например en-US, EN, fr-FR. Можно указать, `neutral` чтобы объявить расширение, не зависящее от языка, которое будет выполняться в любой версии Visual Studio. Значение по умолчанию — `neutral`.

  - `Publisher` — Этот атрибут определяет издателя этого пакета, компании или отдельного имени. `Publisher`Длина атрибута ограничена 100 символами.

- `<DisplayName>` — Этот элемент задает понятное имя пакета, отображаемое в пользовательском интерфейсе диспетчера расширений. `DisplayName`Длина содержимого ограничена 50 символами.

- `<Description>` — Этот необязательный элемент является кратким описанием пакета и его содержимым, отображаемым в пользовательском интерфейсе диспетчера расширений. `Description`Содержимое может содержать любой необходимый текст, но его длина ограничена 1000 символами.

- `<MoreInfo>` — Этот необязательный элемент — это URL-адрес страницы в Интернете, содержащей полное описание этого пакета. Протокол должен быть указан как HTTP.

- `<License>` — Этот необязательный элемент представляет собой относительный путь к файлу лицензии (txt, RTF), содержащемуся в пакете.

- `<ReleaseNotes>` — Этот необязательный элемент является либо относительным путем к файлу заметок о выпуску, содержащимся в пакете (txt, RTF), либо URL-адресом веб-сайта, на котором отображаются заметки о выпуске.

- `<Icon>` — Этот необязательный элемент представляет собой относительный путь к файлу изображения (PNG, BMP, JPEG, ICO), содержащемуся в пакете. Изображение значка должно состоять из 32x32 пикселей (или будет сжато до этого размера) и появится в пользовательском интерфейсе ListView. Если `Icon` элемент не указан, Пользовательский интерфейс использует значение по умолчанию.

- `<PreviewImage>` — Этот необязательный элемент представляет собой относительный путь к файлу изображения (PNG, BMP, JPEG), содержащемуся в пакете. Изображение для предварительного просмотра должно быть 200x200 пикселей и отображаться в пользовательском интерфейсе сведений. Если `PreviewImage` элемент не указан, Пользовательский интерфейс использует значение по умолчанию.

- `<Tags>` — Этот необязательный элемент содержит дополнительные текстовые теги, разделенные точкой с запятой, которые используются для указания поиска. `Tags`Длина элемента ограничена 100 символами.

- `<GettingStartedGuide>` — Этот необязательный элемент является относительным путем к HTML-файлу или URL-адресом сайта, который содержит сведения об использовании расширения или содержимого в этом пакете. Это пошаговое руководства запускается в процессе установки.

- `<AnyElement>*` — Схема манифеста достаточно гибка, чтобы разрешить любые другие элементы. Все дочерние элементы, которые не распознаются загрузчиком манифеста, предоставляются как список объектов XmlElement. Используя эти дочерние элементы, расширения VSIX могут определять дополнительные данные в файле манифеста и перечислять их во время выполнения.

### <a name="installation-element"></a>Элемент установки
 В этом разделе определяется способ установки пакета и номера SKU приложений, в которые он может устанавливаться. Этот раздел содержит следующие атрибуты:

- `Experimental` Установите для этого атрибута значение true, если у вас есть расширение, установленное для всех пользователей, но вы разрабатываете обновленную версию на том же компьютере. Например, если вы установили Мекстенсион 1,0 для всех пользователей, но хотите отладить Мекстенсион 2,0 на том же компьютере, задайте экспериментальный = "true". Этот атрибут доступен в Visual Studio 2015 с обновлением 1 и более поздних версий.

- `Scope` — Этот атрибут может принимать значение "Global" или "Продуктекстенсион":

  - "Global" указывает, что установка не ограничивается конкретным SKU. Например, это значение используется при установке пакета SDK расширения.

  - "Продуктекстенсион" указывает, что было установлено традиционное расширение VSIX (версия 1,0) для отдельных номеров SKU Visual Studio. Это значение по умолчанию.

- `AllUsers` — Этот необязательный атрибут указывает, будет ли этот пакет установлен для всех пользователей. По умолчанию этот атрибут имеет значение false, которое указывает, что пакет предназначен для каждого пользователя. (Если для этого параметра задано значение true, то при установке пользователя необходимо повысить уровень привилегий до уровня прав администратора, чтобы установить полученный VSIX.

- `InstalledByMsi` — Этот необязательный атрибут указывает, установлен ли этот пакет MSI. Пакеты, установленные с помощью MSI, устанавливаются и управляются MSI (программами и компонентами), а не диспетчером расширений Visual Studio.  По умолчанию этот атрибут имеет значение false, указывающее, что пакет не установлен с помощью MSI.

- `SystemComponent` — Этот необязательный атрибут указывает, должен ли этот пакет рассматриваться как системный компонент. Системные компоненты не отображаются в пользовательском интерфейсе диспетчера расширений и не могут быть обновлены. По умолчанию этот атрибут имеет значение false, указывающее, что пакет не является системным компонентом.

- `AnyAttribute*` — `Installation` Элемент принимает открытый набор атрибутов, который будет предоставляться во время выполнения как словарь пар "имя-значение".

- `<InstallationTarget>` — Этот элемент определяет расположение, в котором установщик VSIX устанавливает пакет. Если значение `Scope` атрибута — "продуктекстенсион", пакет должен быть предназначен для SKU, который установил файл манифеста как часть его содержимого, чтобы объявить о его доступности расширениям. `<InstallationTarget>`Элемент имеет следующие атрибуты, если `Scope` атрибут имеет явное или значение по умолчанию "продуктекстенсион":

  - `Id` — Этот атрибут идентифицирует пакет.  Атрибут соответствует соглашению о пространстве имен: Company.Product.Feature.Name. `Id`Атрибут может содержать только буквы, цифры и не более 100 символов. Ожидаемые значения:

    - Microsoft. VisualStudio. Интегратедшелл

    - Microsoft.VisualStudio.Pro

    - Microsoft. VisualStudio. Premium

    - Microsoft. VisualStudio. Ultimate

    - Microsoft. VisualStudio. Ввдекспресс

    - Microsoft. VisualStudio. VPDExpress

    - Microsoft. VisualStudio. Всвинекспресс

    - Microsoft. VisualStudio. ВСЛС

    - My.Shell.App

  - `Version` — Этот атрибут указывает диапазон версий с минимальной и максимальной поддерживаемыми версиями этого SKU. Пакет может подробно описать версии SKU, которые она поддерживает. Нотация диапазона версий — [10,0-11,0], где

    - [-минимальная версия включительно.

    - ] — Максимальная версия включительно.

    - (минимальная версия эксклюзивная.

    - ) — максимальная версия эксклюзивная.

    - Единственный номер версии — только указанная версия.

    > [!IMPORTANT]
    > Версия 2,0 схемы VSIX была введена в Visual Studio 2012. Чтобы использовать эту схему, на компьютере должен быть установлен Visual Studio 2012 или более поздней версии и использоваться VSIXInstaller.exe, который входит в состав этого продукта. Вы можете ориентироваться на более ранние версии Visual Studio с помощью Visual Studio 2012 или более поздней версии Всиксинсталлер, но только с помощью более поздних версий установщика.

    Номера версий Visual Studio 2017 можно найти в [номерах сборок и датах выпуска Visual Studio](../install/visual-studio-build-numbers-and-release-dates.md).

    При отражать версию для выпусков Visual Studio 2017, дополнительный номер версии всегда должен быть **равен 0**. Например, Visual Studio 2017 версии 15.3.26730.0 должна быть выражена как [15.0.26730.0, область по видимости. Это требуется только для номеров версии Visual Studio 2017 и более поздних версий.

  - `AnyAttribute*` — `<InstallationTarget>` Элемент допускает открытый набор атрибутов, который предоставляется во время выполнения как словарь пар "имя-значение".

### <a name="dependencies-element"></a>DEPENDENCIES, элемент
 Этот элемент содержит список зависимостей, объявляемых этим пакетом. Если указаны какие-либо зависимости, то эти пакеты (определенные по их отношению `Id` ) должны быть установлены ранее.

- `<Dependency>` Element — этот дочерний элемент имеет следующие атрибуты:

  - `Id` — Этот атрибут должен быть уникальным ИДЕНТИФИКАТОРом для зависимого пакета. Это значение удостоверения должно соответствовать `<Metadata><Identity>Id` атрибуту пакета, от которого зависит этот пакет. `Id`Атрибут соответствует соглашению о пространстве имен: Company.Product.feature.Name. Атрибут может содержать только буквы, цифры и не более 100 символов.

  - `Version` — Этот атрибут указывает диапазон версий с минимальной и максимальной поддерживаемыми версиями этого SKU. Пакет может подробно описать версии SKU, которые она поддерживает. Нотация диапазона версий — [12,0, 13,0], где:

    - [-минимальная версия включительно.

    - ] — Максимальная версия включительно.

    - (минимальная версия эксклюзивная.

    - ) — максимальная версия эксклюзивная.

    - Единственный номер версии — только указанная версия.

  - `DisplayName` — Этот атрибут является отображаемым именем зависимого пакета, который используется в элементах пользовательского интерфейса, например в диалоговых окнах и сообщениях об ошибках. Атрибут является необязательным, если не установлен зависимый пакет MSI.

  - `Location` — Этот необязательный атрибут указывает относительный путь в пределах VSIX к вложенному пакету VSIX или URL-адрес расположения загрузки для зависимости. Этот атрибут используется, чтобы помочь пользователю обнаружить необходимый пакет.

  - `AnyAttribute*` — `Dependency` Элемент принимает открытый набор атрибутов, который будет предоставляться во время выполнения как словарь пар "имя-значение".

### <a name="assets-element"></a>Элемент Assets
 Этот элемент содержит список `<Asset>` тегов для каждого расширения или элемента содержимого, попадающего в этот пакет.

- `<Asset>` — Этот элемент содержит следующие атрибуты и элементы:

  - `Type` — Тип расширения или содержимого, представленного этим элементом. Каждый `<Asset>` элемент должен иметь один `Type` , но несколько `<Asset>` элементов могут иметь одно и то же значение `Type` . Этот атрибут должен быть представлен полным именем в соответствии с соглашениями об пространствах имен. Известны следующие типы:

    1. Microsoft. VisualStudio. VsPackage

    2. Microsoft.VisualStudio.MefComponent

    3. Microsoft. VisualStudio. Тулбоксконтрол

    4. Microsoft. VisualStudio. Samples

    5. Microsoft. VisualStudio. ProjectTemplate

    6. Microsoft. VisualStudio. ItemTemplate

    7. Microsoft. VisualStudio. Assembly

       Вы можете создавать собственные типы и присваивать им уникальные имена. Во время выполнения в Visual Studio код может выполнять перечисление и доступ к этим пользовательским типам с помощью API диспетчера расширений.

  - `Path` — относительный путь к файлу или папке в пакете, содержащем ресурс.

  - `TargetVersion` — диапазон версий, к которому применяется данный ресурс. Используется для доставки нескольких версий ресурсов в разные версии Visual Studio. Для этого требуется Visual Studio 2017,3 или более поздней версии.

  - `AnyAttribute*` — Открытый набор атрибутов, который предоставляется во время выполнения как словарь пар "имя-значение".

    `<AnyElement>*` — Любое структурированное содержимое разрешается между открывающим `<Asset>` и закрывающим тегами. Все элементы представлены в виде списка объектов XmlElement. Расширения VSIX могут определять структурированные метаданные для конкретного типа в файле манифеста и перечислять их во время выполнения.

### <a name="sample-manifest"></a>Пример манифеста

```xml
<?xml version="1.0" encoding="utf-8"?>
<PackageManifest Version="2.0.0" xmlns="http://schemas.microsoft.com/developer/vsx-schema/2011" xmlns:d="http://schemas.microsoft.com/developer/vsx-schema-design/2011">
  <Metadata>
    <Identity Id="0000000-0000-0000-0000-000000000000" Version="1.0" Language="en-US" Publisher="Company" />
    <DisplayName>Test Package</DisplayName>
    <Description>Information about my package</Description>
    <MoreInfo>http://www.fabrikam.com/Extension1/</MoreInfo>
    <License>eula.rtf</License>
    <ReleaseNotes>notes.txt</ReleaseNotes>
    <Icon>Images\icon.png</Icon>
    <PreviewImage>Images\preview.png</PreviewImage>
  </Metadata>
  <Installation InstalledByMsi="false" AllUsers="false" SystemComponent="false" Scope="ProductExtension">
    <InstallationTarget Id="Microsoft.VisualStudio.Pro" Version="[11.0, 12.0]" />
  </Installation>
  <Dependencies>
    <Dependency Id="Microsoft.Framework.NDP" DisplayName="Microsoft .NET Framework" d:Source="Manual" Version="[4.5,)" />
    <Dependency Id="Microsoft.VisualStudio.MPF.12.0" DisplayName="Visual Studio MPF 12.0" d:Source="Installed" Version="[12.0]" />
  </Dependencies>
  <Assets>
    <Asset Type="Microsoft.VisualStudio.VsPackage" d:Source="Project" d:ProjectName="%CurrentProject%" Path="|%CurrentProject%;PkgdefProjectOutputGroup|" />
  </Assets>
</PackageManifest>
```

## <a name="see-also"></a>См. также

- [Поставка расширений Visual Studio](../extensibility/shipping-visual-studio-extensions.md)
