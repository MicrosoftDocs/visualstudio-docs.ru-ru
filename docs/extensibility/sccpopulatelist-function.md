---
description: Эта функция обновляет список файлов для определенной команды системы управления версиями и предоставляет состояние системы управления версиями для всех заданных файлов.
title: Функция Сккпопулателист | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccPopulateList
helpviewer_keywords:
- SccPopulateList function
ms.assetid: 7416e781-c571-4a7f-8af3-a089ce8be662
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 24ed033d05711e4c6815945796595897e926ba74
ms.sourcegitcommit: f33ca1fc99f5d9372166431cefd0e0e639d20719
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2021
ms.locfileid: "102220551"
---
# <a name="sccpopulatelist-function"></a>Функция SccPopulateList
Эта функция обновляет список файлов для определенной команды системы управления версиями и предоставляет состояние системы управления версиями для всех заданных файлов.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccPopulateList (
   LPVOID          pvContext,
   enum SCCCOMMAND nCommand,
   LONG            nFiles,
   LPCSTR*         lpFileNames,
   POPLISTFUNC     pfnPopulate,
   LPVOID          pvCallerData,
   LPLONG          lpStatus,
   LONG            fOptions
);
```

#### <a name="parameters"></a>Параметры
 пвконтекст

окне Структура контекста подключаемого модуля системы управления версиями.

 Nвыполненная команда

окне Команда системы управления версиями, которая будет применена ко всем файлам в `lpFileNames` массиве (список возможных команд см. в разделе [код команды](../extensibility/command-code-enumerator.md) ).

 Nфайлы оставленные

окне Число файлов в `lpFileNames` массиве.

 лпфиленамес

окне Массив имен файлов, известных интегрированной среде разработки.

 пфнпопулате

окне Функция обратного вызова IDE, вызываемая для добавления и удаления файлов (Дополнительные сведения см. в [поплистфунк](../extensibility/poplistfunc.md) ).

 пвкаллердата

окне Значение, которое должно быть передано в функцию обратного вызова без изменений.

 лпстатус

[вход, выход] Массив для подключаемого модуля системы управления версиями, который возвращает флаги состояния для каждого файла.

 фоптионс

окне Флаги команды (см. раздел "флаг Популателист" в [битфлагс, используемый конкретными командами](../extensibility/bitflags-used-by-specific-commands.md) для получения подробных сведений).

## <a name="return-value"></a>Возвращаемое значение
 Реализация подключаемого модуля системы управления версиями для этой функции должна возвращать одно из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|SCC_OK|Успешно.|
|SCC_E_NONSPECIFICERROR|Неконкретный сбой.|

## <a name="remarks"></a>Комментарии
 Эта функция проверяет список файлов на предмет ее текущего состояния. Она использует `pfnPopulate` функцию обратного вызова для уведомления вызывающего объекта, если файл не соответствует критериям для `nCommand` . Например, если команда имеет значение, `SCC_COMMAND_CHECKIN` а файл в списке не извлечен, то обратный вызов используется для информирования вызывающего объекта. Иногда подключаемый модуль системы управления версиями может найти другие файлы, которые могут быть частью команды, и добавить их. Это позволяет, например, Visual Basic пользователь извлекать BMP-файл, который используется его проектом, но не отображается в файле проекта Visual Basic. Пользователь выбирает команду **Get** в интегрированной среде разработки. В интегрированной среде разработки отобразится список всех файлов, которые могут получить пользователи, но перед отображением списка `SccPopulateList` функция вызывается, чтобы убедиться, что список отображается в актуальном состоянии.

## <a name="example"></a>Пример
 Интегрированная среда разработки создает список файлов, которые могут получить пользователи. Перед отображением этого списка он вызывает `SccPopulateList` функцию, предоставляя подключаемому модулю системы управления версиями возможность добавлять файлы в список и удалять их из него. Подключаемый модуль изменяет список, вызывая заданную функцию обратного вызова (Дополнительные сведения см. в [поплистфунк](../extensibility/poplistfunc.md) ).

 Подключаемый модуль по-своему вызывает `pfnPopulate` функцию, которая добавляет и удаляет файлы до завершения и возвращает из `SccPopulateList` функции. Затем интегрированная среда разработки может отобразить свой список. `lpStatus`Массив представляет все файлы в исходном списке, переданном интегрированной средой разработки. Подключаемый модуль заполняет состояние всех этих файлов в дополнение к использованию функции обратного вызова.

> [!NOTE]
> Подключаемый модуль системы управления версиями всегда имеет параметр, позволяющий просто возвращаться непосредственно из этой функции, в то же самое, открывая список. Если подключаемый модуль реализует эту функцию, он может указать это путем установки `SCC_CAP_POPULATELIST` возможности комбинацией при первом вызове [скЦинитиализе](../extensibility/sccinitialize-function.md). По умолчанию подключаемый модуль всегда предполагает, что все передаваемые в них элементы являются файлами. Однако если IDE устанавливает `SCC_PL_DIR` флаг в `fOptions` параметре, все передаваемые элементы должны считаться каталогами. Подключаемый модуль должен добавить все файлы, входящие в каталоги. Интегрированная среда разработки никогда не передает сочетание файлов и каталогов.

## <a name="see-also"></a>См. также раздел
- [Функции API подключаемого модуля системы управления версиями](../extensibility/source-control-plug-in-api-functions.md)
- [SccInitialize](../extensibility/sccinitialize-function.md)
- [POPLISTFUNC](../extensibility/poplistfunc.md)
- [Битовые флаги, используемые конкретными командами](../extensibility/bitflags-used-by-specific-commands.md)
- [Код команды](../extensibility/command-code-enumerator.md)
