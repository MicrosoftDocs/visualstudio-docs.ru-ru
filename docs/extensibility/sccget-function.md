---
description: Эта функция извлекает копию одного или нескольких файлов для просмотра и компиляции, но не для редактирования.
title: Функция Сккжет | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- SccGet
helpviewer_keywords:
- SccGet function
ms.assetid: 09a18bd2-b788-411a-9da6-067d806e46f6
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 805c19b0c326e8389b4e1905edf370ad042aac92
ms.sourcegitcommit: bab002936a9a642e45af407d652345c113a9c467
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/25/2021
ms.locfileid: "112904556"
---
# <a name="sccget-function"></a>Функция Сккжет
Эта функция извлекает копию одного или нескольких файлов для просмотра и компиляции, но не для редактирования. В большинстве систем файлы помечаются как доступные только для чтения.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccGet(
   LPVOID    pvContext,
   HWND      hWnd,
   LONG      nFiles,
   LPCSTR*   lpFileNames,
   LONG      fOptions,
   LPCMDOPTS pvOptions
);
```

### <a name="parameters"></a>Параметры
 пвконтекст

окне Структура контекста подключаемого модуля системы управления версиями.

 hWnd

окне Обработчик окна интегрированной среды разработки, который может использоваться подключаемым модулем системы управления версиями в качестве родительского для любых предоставляемых им диалоговых окон.

 Nфайлы оставленные

окне Число файлов, указанных в `lpFileNames` массиве.

 лпфиленамес

окне Массив полных имен извлекаемых файлов.

 фоптионс

окне Флаги команд ( `SCC_GET_ALL` , `SCC_GET_RECURSIVE` ).

 пвоптионс

окне Параметры, зависящие от подключаемого модуля системы управления версиями.

## <a name="return-value"></a>Возвращаемое значение
 Реализация подключаемого модуля системы управления версиями для этой функции должна возвращать одно из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|SCC_OK|Успешное выполнение операции получения.|
|SCC_E_FILENOTCONTROLLED|Файл не находится в системе управления версиями.|
|SCC_E_OPNOTSUPPORTED|Система управления версиями не поддерживает эту операцию.|
|SCC_E_FILEISCHECKEDOUT|Не удается получить файл, извлеченный пользователем в данный момент.|
|SCC_E_ACCESSFAILURE|Возникла проблема при доступе к системе управления версиями, возможно, из-за проблем с сетью или состязаниями. Рекомендуется повторить попытку.|
|SCC_E_NOSPECIFIEDVERSION|Указана недопустимая версия или Дата и время.|
|SCC_E_NONSPECIFICERROR|Неконкретный сбой; файл не был синхронизирован.|
|SCC_I_OPERATIONCANCELED|Операция отменена до завершения.|
|SCC_E_NOTAUTHORIZED|У пользователя нет разрешений на выполнение этой операции.|

## <a name="remarks"></a>Remarks
 Эта функция вызывается с количеством и массивом имен извлекаемых файлов. Если IDE передает флаг `SCC_GET_ALL` , это означает, что элементы в `lpFileNames` не являются файлами, а каталогами и все файлы, находящихся в системе управления версиями в указанных каталогах, будут извлечены.

 `SCC_GET_ALL`Флаг можно сочетать с `SCC_GET_RECURSIVE` флагом для получения всех файлов в указанных каталогах и всех подкаталогах.

> [!NOTE]
> `SCC_GET_RECURSIVE` никогда не должно передаваться без `SCC_GET_ALL` . Кроме того, обратите внимание, что если каталоги *к:\а* и *к:\а\б* передаются в рекурсивном Get, *к:\а\б* и все его подкаталоги, фактически будут получены дважды. Это обязанность интегрированной среды разработки, а не подключаемый модуль системы управления версиями, чтобы убедиться, что дубликаты, такие как, хранятся в массиве.

 Наконец, даже если подключаемый модуль системы управления версиями указал `SCC_CAP_GET_NOUI` флаг при инициализации, указывая, что у него нет пользовательского интерфейса для команды Get, эта функция может по-прежнему вызываться интегрированной средой разработки для получения файлов. Флаг просто означает, что в интегрированной среде разработки не отображается пункт меню получить и что подключаемый модуль не должен предоставлять пользовательский интерфейс.

## <a name="rename-files-and-sccget"></a>Переименование файлов и Сккжет
 Ситуация: пользователь извлекает файл, например *a.txt*, и изменяет его. Прежде чем *a.txt* можно будет вернуть, второй пользователь переименовывает *a.txt* в *b.txt* в базе данных системы управления версиями, проверяет *b.txt*, вносит некоторые изменения в файл и проверяет файл в. Первый пользователь хочет внести изменения, внесенные вторым пользователем, чтобы первый пользователь переименовывает локальную версию *a.txtного* файла в *b.txt* и выдает файл. Однако локальный кэш, который отслеживает номера версий, по-прежнему считает, что первая версия *a.txt* хранится локально, и поэтому система управления версиями не может устранить различия.

 Существует два способа устранения этой ситуации, когда локальный кэш версий системы управления версиями не синхронизирован с базой данных системы управления версиями.

1. Не допускайте переименования файла в базе данных системы управления версиями, которая в настоящее время извлечена.

2. Сделайте то же самое, что и "удалить старое", а затем "добавить новый". Один из способов сделать это можно одним из следующих алгоритмов.

    1. Вызовите функцию [скккуеричанжес](../extensibility/sccquerychanges-function.md) , чтобы узнать о переименовании *a.txt* для *b.txt* в базе данных системы управления версиями.

    2. Переименуйте локальный *a.txt* в *b.txt*.

    3. Вызовите `SccGet` функцию как для *a.txt* , так и для *b.txt*.

    4. Поскольку *a.txt* не существует в базе данных системы управления версиями, кэш локальной версии удаляется из сведений об отсутствующей версии *a.txt* .

    5. Извлеченный файл *b.txt* объединяется с содержимым локального файла *b.txt* .

    6. Обновленный файл *b.txt* теперь можно вернуть.

## <a name="see-also"></a>См. также
- [Функции API подключаемого модуля системы управления версиями](../extensibility/source-control-plug-in-api-functions.md)
- [Битфлагс, используемые конкретными командами](../extensibility/bitflags-used-by-specific-commands.md)
