---
title: Запуск программы | Документация Майкрософт
description: Сведения о ряде событий, которые происходят при отладке программы с помощью клавиши F5 для запуска отладчика из IDE.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- debug engines, launching
- programs, launching
ms.assetid: 6857e9c6-e44a-468a-afa4-f7c4a0b77844
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: a21036d3a9661306d1efff5a66ae47f8f7404209
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105094722"
---
# <a name="launch-a-program"></a>Запуск программы
Пользователи, желающие выполнить отладку программы, могут нажать клавишу **F5** , чтобы запустить отладчик из интегрированной среды разработки. Это запускает серию событий, которые в конечном итоге присоединяются к подсистеме отладки (DE), которая в свою очередь подключена или подключена к программе следующим образом:

1. Интегрированная среда разработки сначала вызывает пакет проекта, чтобы получить активные параметры отладки проекта решения. К параметрам относятся начальный каталог, переменные среды, порт, в котором будет выполняться программа, и параметр DE, используемый для создания программы, если он указан. Эти параметры передаются в пакет отладки.

2. Если указан параметр DE, то метод DE вызывает операционную систему для запуска программы. Как следствие запуска программы, среда выполнения программы загружается. Например, если программа написана на языке MSIL, для запуска программы будет вызвана среда CLR.

    или

    Если параметр DE не указан, порт вызывает операционную систему для запуска программы, что приводит к загрузке среды выполнения программы.

   > [!NOTE]
   > Если для запуска программы используется DE, то, скорее всего, она будет присоединена к программе.

3. В зависимости от того, запускает ли программа DE или порт, а среда выполнения, затем создает описание программы или узел и уведомляет Порт о том, что программа запущена.

   > [!NOTE]
   > Рекомендуется, чтобы среда выполнения могла создать узел программы, так как узел программы представляет собой упрощенное представление программы, которую можно отладить. Для создания и регистрации узла программы нет необходимости полностью отгружаться. Если параметр DE предназначен для выполнения в процессе интегрированной среды разработки, но среда IDE на самом деле не выполняется, то необходим компонент, который может добавить в порт узел программы.

   Вновь созданная программа вместе с другими программами, связанными или несвязанными, запущенными или подключенными к из той же интегрированной среды разработки, составляют сеанс отладки.

   Программным способом, когда пользователь впервые нажимает клавишу **F5**, [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] пакет отладки вызывает пакет проекта (связанный с типом запускаемой программы) с помощью <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebuggableProjectCfg.DebugLaunch%2A> метода, который, в свою очередь, заполняет <xref:Microsoft.VisualStudio.Shell.Interop.VsDebugTargetInfo2> структуру с помощью активных параметров отладки проекта решения. Эта структура передается обратно в отладочный пакет посредством вызова <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebugger2.LaunchDebugTargets2%2A> метода. Затем пакет отладки создает экземпляр диспетчера отладки сеанса (SDM), который запускает отлаживаемую программу и все связанные с ней отладчики.

   Одним из аргументов, передаваемых в SDM, является идентификатор GUID для DE, который будет использоваться для запуска программы.

   Если параметр DE GUID не имеет значение `GUID_NULL` , SDM создает объект de, а затем вызывает его метод [лаунчсуспендед](../../extensibility/debugger/reference/idebugenginelaunch2-launchsuspended.md) для запуска программы. Например, если программа написана в машинном коде, `IDebugEngineLaunch2::LaunchSuspended` то, скорее всего, будет вызывать `CreateProcess` и `ResumeThread` (функции Win32) для запуска программы.

   В результате запуска программы загружается среда выполнения программы. Затем среда DE или среды выполнения создает интерфейс [IDebugProgramNode2](../../extensibility/debugger/reference/idebugprogramnode2.md) для описания программы и передает этот интерфейс в [аддпрограмноде](../../extensibility/debugger/reference/idebugportnotify2-addprogramnode.md) для уведомления порта, выполняемого программой.

   Если `GUID_NULL` передается значение, порт запускает программу. После запуска программы среда выполнения создает `IDebugProgramNode2` интерфейс для описания программы и передает его в `IDebugPortNotify2::AddProgramNode` . Уведомляет Порт о том, что программа запущена. Затем модель SDM присоединяет модуль отладки к выполняющейся программе.

## <a name="in-this-section"></a>Содержание раздела
 [Уведомление порта](../../extensibility/debugger/notifying-the-port.md) Объясняет, что происходит после запуска программы и получения уведомления о порте.

 [Подключение после запуска](../../extensibility/debugger/attaching-after-a-launch.md) Документы, когда сеанс отладки готов к присоединению к программе.

## <a name="related-sections"></a>Связанные разделы
 [Задачи отладки](../../extensibility/debugger/debugging-tasks.md) Содержит ссылки на различные задачи отладки, такие как запуск программы и вычисление выражений.
