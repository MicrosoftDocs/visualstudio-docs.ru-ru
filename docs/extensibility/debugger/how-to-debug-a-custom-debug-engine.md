---
title: Как выполнить отладку пользовательского модуля отладки | Документация Майкрософт
description: Сведения о шагах, позволяющих использовать Visual Studio для отладки пользовательского модуля отладки или пользовательского типа проекта.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
helpviewer_keywords:
- debug engines, debugging
- debugging [Debugging SDK], custom debug engines
ms.assetid: df27a8d6-3938-45ff-b47f-b684e80b38a0
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: ffd21fb08e920209d47ff66feb436f8a83aab53e
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105059929"
---
# <a name="how-to-debug-a-custom-debug-engine"></a>Как выполнить отладку пользовательского модуля отладки
Тип проекта запускает модуль отладки (DE) из <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebuggableProjectCfg.DebugLaunch%2A> метода. Это означает, что DE запускается под управлением экземпляра, [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] управляющего типом проекта. Однако этот экземпляр [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] не может выполнить отладку de. Ниже приведены шаги, позволяющие выполнить отладку пользовательского DE.

> [!NOTE]
> : В процедуре "Отладка настраиваемого модуля отладки" необходимо дождаться начала, прежде чем можно будет присоединиться к ней. Если поместить окно сообщения рядом с началом DE, которое появляется при запуске команды DE, можно присоединиться к этому моменту, а затем очистить окно сообщения, чтобы продолжить. Таким образом можно перехватить все события «DE».

> [!WARNING]
> Необходимо установить удаленную отладку, прежде чем выполнять следующие процедуры. Дополнительные сведения см. в разделе [Удаленная отладка](../../debugger/remote-debugging.md) .

## <a name="debug-a-custom-debug-engine"></a>Отладка пользовательского модуля отладки

1. Запуск *msvsmon.exe*, монитор удаленной отладки.

2. В меню **Сервис** в *msvsmon.exe* выберите **Параметры** , чтобы открыть диалоговое окно **Параметры** .

3. Выберите параметр без проверки подлинности и нажмите кнопку **ОК**.

4. Запустите экземпляр [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] и откройте пользовательский проект de.

5. Запустите второй экземпляр [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] и откройте пользовательский проект, который запускает de (для разработки, как правило, в экспериментальном кусте реестра, настроенном при установке VSIP).

6. В этом втором экземпляре [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] Загрузите исходный файл из пользовательского проекта и запустите программу для отладки. Подождите несколько секунд, чтобы разрешить DE-загрузку, или Дождитесь попадания в точку останова.

7. В первом экземпляре [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] (с помощью проекта de) выберите **присоединить к процессу** в меню **Отладка** .

8. В диалоговом окне **Присоединение к процессу** измените **транспорт** на **Удаленный (только машинный код без проверки подлинности)**.

9. Измените **квалификатор** на имя компьютера (Примечание. имеется журнал записей, поэтому необходимо ввести это имя только один раз).

10. В списке **Доступные процессы** Выберите запущенный экземпляр de и нажмите кнопку **присоединить** .

11. После загрузки символов в DE разместите точки останова в коде DE.

12. Каждый раз, когда вы останавливаете и перезапустите процесс отладки, повторите шаги с 6 по 10.

## <a name="debug-a-custom-project-type"></a>Отладка пользовательского типа проекта

1. Запустите [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] в нормальном кусте реестра и загрузите проект типа проекта (это источник для типа проекта, а не экземпляр типа проекта).

2. Откройте свойства проекта и перейдите на страницу **Отладка** . Для **команды** введите путь к [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] интегрированной среде разработки (по умолчанию это *[диск]* \Program Files\Microsoft [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] 8\Common7\IDE\devenv.exe).

3. В качестве **аргументов команды** введите `/rootsuffix exp` для экспериментального куста реестра (созданного при установке VSIP).

4. Нажмите кнопку **ОК** , чтобы принять изменения.

5. Запустите тип проекта, нажав клавишу **F5**. Запустится второй экземпляр [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] .

6. На этом этапе можно размещать точки останова в исходном коде типа проекта.

7. На втором экземпляре [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] Загрузите или создайте новый экземпляр типа проекта. Во время загрузки или создания могут быть пройдены точки останова.

8. Отладка типа проекта.

9. Если вы решили отладить процесс запуска DE, можно выполнить действия, описанные в процедуре "Отладка настраиваемого модуля отладки", чтобы присоединиться к папке DE после запуска. При этом будут выполняться три экземпляра [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] : один для источника типа проекта, второй для созданного типа проекта, а третий присоединяется к вашему de.

## <a name="see-also"></a>См. также
- [Создание пользовательского модуля отладки](../../extensibility/debugger/creating-a-custom-debug-engine.md)
