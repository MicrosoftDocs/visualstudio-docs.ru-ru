---
title: Конфигурация проекта для сборки | Документация Майкрософт
description: Сведения о том, как список конфигураций решения для конкретного решения управляется с помощью диалогового окна конфигурации решения в новом типе проекта.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- projects [Visual Studio SDK], configuration for building
- project configurations, building
ms.assetid: 2c83615d-fa4d-4b9f-b315-7a69b3000da0
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: b8891d5e68623312049e60730b0239bf7c06e83c
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99954479"
---
# <a name="project-configuration-for-building"></a>Конфигурация проекта для сборки
Список конфигураций решения для данного решения управляется с помощью диалогового окна конфигурации решения.

 Пользователь может создавать дополнительные конфигурации решения, каждый из которых имеет собственное уникальное имя. Когда пользователь создает новую конфигурацию решения, интегрированная среда разработки по умолчанию использует соответствующее имя конфигурации в проектах или Debug, если соответствующее имя не существует. Пользователь может изменить выбор в соответствии с определенными требованиями, если это необходимо. Единственным исключением является ситуация, когда проект поддерживает конфигурацию, соответствующую имени новой конфигурации решения. Например, предположим, что решение содержит проект1 и project2. В проект1 имеются конфигурации проектов "Отладка", "розница" и "MyConfig1". Project2 имеет конфигурации проекта "Отладка", "розничная торговля" и "MyConfig2".

 Если пользователь создает новую конфигурацию решения с именем MyConfig2, проект1 по умолчанию привязывает конфигурацию отладки к конфигурации решения. Project2 также привязывает свою конфигурацию MyConfig2 к конфигурации решения по умолчанию.

> [!NOTE]
> Привязка не учитывает регистр.

 Когда пользователь выбирает элемент **множественный выбор** в раскрывающемся списке Конфигурация, среда отображает диалоговое окно, содержащее список доступных конфигураций.

 ![Несколько конфигураций](../../extensibility/internals/media/vsmultiplecfgs.gif "всмултиплекфгс") Несколько конфигураций

 В этом диалоговом окне пользователь может выбрать одну или несколько конфигураций. После выбора значения свойств, отображаемых в диалоговом окне страницы свойств, отражает пересечение значений для выбранных конфигураций.

 Сведения о добавлении и переименовании конфигураций для решений и проектов см. в разделе [Конфигурация решения](../../extensibility/internals/solution-configuration.md) .

 Зависимости проектов и порядок сборки не зависят от конфигурации решения. это значит, что можно настроить только одно дерево зависимостей для всех проектов в решении. Если щелкнуть решение или проект правой кнопкой мыши и выбрать пункт **зависимости проекта** или **Порядок сборки проекта** , откроется диалоговое окно **зависимости проекта** . Его также можно открыть из меню **проект** .

 ![Зависимости проекта](../../extensibility/internals/media/vsprojdependencies.gif "вспрождепенденЦиес") Зависимости проекта

 Зависимости проекта определяют порядок сборки проектов. Используйте вкладку Порядок сборки в диалоговом окне для просмотра точного порядка, в котором будут построены проекты в решении, и используйте вкладку зависимости для изменения порядка сборки.

> [!NOTE]
> Проекты в списке, для которых установлены флажки, но они отображаются серым цветом, были добавлены в среду из-за явных зависимостей, указанных в <xref:Microsoft.VisualStudio.Shell.Interop.IVsBuildDependency> <xref:Microsoft.VisualStudio.Shell.Interop.IVsDeployDependency> интерфейсе или, и не могут быть изменены. Например, при добавлении ссылки на проект из [!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)] проекта в другой проект автоматически добавляется зависимость сборки, которую можно удалить только путем удаления ссылки. Проекты, флажки которых сняты и отображаются серым цветом, не могут быть выбраны, так как при этом создается цикл зависимостей (например, проект1 будет зависеть от Project2, а Project2 будет зависеть от проект1), что приведет к остановке сборки.

 [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] процессы сборки включают типичные операции компиляции и компоновки, которые вызываются с помощью одной команды сборки. Также поддерживаются два других процесса сборки: операция очистки для удаления всех выходных элементов из предыдущей сборки и проверка актуальности для определения, изменился ли выходной элемент в конфигурации.

- <xref:Microsoft.VisualStudio.Shell.Interop.IVsProjectCfg2> объекты возвращают соответствующие <xref:Microsoft.VisualStudio.Shell.Interop.IVsBuildableProjectCfg> значения (возвращаются из <xref:Microsoft.VisualStudio.Shell.Interop.IVsProjectCfg2.get_CfgType%2A> ) для управления процессами сборки. Чтобы сообщить о состоянии операции сборки во время ее выполнения, конфигурации выполняют вызовы <xref:Microsoft.VisualStudio.Shell.Interop.IVsBuildStatusCallback> , интерфейс, реализованный средой, и любой другой объект, заинтересованный в событиях состояния сборки.

 После построения можно использовать параметры конфигурации, чтобы определить, могут ли они запускаться под управлением отладчика. Конфигурации реализуют <xref:Microsoft.VisualStudio.Shell.Interop.IVsDebuggableProjectCfg> поддержку отладки.

 После реализации зависимостей проекта можно программно управлять зависимостями с помощью модели автоматизации. Вы вызываете <xref:EnvDTE.SolutionBuild.BuildDependencies%2A> Модель автоматизации. Нет доступных интерфейсов уровня API VSIP, которые позволяют напрямую управлять конфигурациями диспетчера сборки решений и их свойствами.

 Кроме того, можно указать сетку в окне зависимости проекта. Дополнительные сведения см. в разделе [Свойства отображение сетки](../../extensibility/internals/properties-display-grid.md).

## <a name="see-also"></a>См. также раздел
- [Управление параметрами конфигурации](../../extensibility/internals/managing-configuration-options.md)
- [Конфигурация проекта для управления развертыванием](../../extensibility/internals/project-configuration-for-managing-deployment.md)
- [Конфигурация проекта для вывода](../../extensibility/internals/project-configuration-for-output.md)
