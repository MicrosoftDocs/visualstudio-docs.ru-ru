---
title: Предоставление типов для визуальных конструкторов | Документация Майкрософт
description: Узнайте, как предоставлять определения классов и типов, в том числе в пользовательских инструментах, чтобы Visual Studio могла сделать их доступными для визуальных конструкторов.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- types [Visual Studio SDK], exposing to visual designers
- designers [Visual Studio SDK], exposing types
- custom tools, exposing types to visual designers
ms.assetid: a7a32ad4-3a0a-4eb8-a6ac-491c42885639
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 5208de3af52e4dad5fb9bb59b16f7b59efb72340
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105069677"
---
# <a name="expose-types-to-visual-designers"></a>Предоставление типов для визуальных конструкторов
[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] для отображения визуального конструктора необходимо иметь доступ к определениям классов и типов во время разработки. Классы загружаются из предопределенного набора сборок, включающего полный набор зависимостей текущего проекта (ссылки и их зависимости). Также может потребоваться, чтобы визуальные конструкторы могли обращаться к классам и типам, определенным в файлах, созданных настраиваемыми инструментами.

 [!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)] [!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)] Системы проектов и обеспечивают поддержку доступа к создаваемым классам и типам через временные переносимые исполняемые файлы (Временные PE). Любой файл, созданный пользовательским средством, можно скомпилировать во временную сборку, чтобы типы могли быть загружены из этих сборок и предоставлены конструкторам. Выходные данные каждого пользовательского инструмента компилируются в отдельный временный PE, и успех или неудача этой временной компиляции зависит только от того, можно ли компилировать созданный файл. Несмотря на то, что проект может не строиться в целом, отдельные Временные PE могут по-прежнему быть доступны для конструкторов.

 Система проектов обеспечивает полную поддержку отслеживания изменений в выходном файле пользовательского средства при условии, что эти изменения являются результатом запуска пользовательского инструмента. При каждом запуске пользовательского инструмента создается новый временный PE-сообщения, и соответствующие уведомления отправляются в конструкторы.

> [!NOTE]
> Так как файл исполняемого файла временной программы выполняется в фоновом режиме, в случае сбоя компиляции пользователю не будет сообщено об ошибке.

 Пользовательские средства, использующие преимущества временной поддержки PE, должны соответствовать следующим правилам.

- В реестре для **женератесдесигнтимесаурце** должно быть задано значение 1.

     Компиляция исполняемого файла программы не выполняется без этого параметра.

- Созданный код должен быть на том же языке, что и глобальный параметр проекта.

     Временный PE-содержимое компилируется независимо от того, какие отчеты пользовательского инструмента должны быть запрошенными расширениями при <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.DefaultExtension%2A> условии, что **женератесдесигнтимесаурце** имеет значение 1 в реестре. Расширение не обязательно должно быть *. vb*, *. CS* или *. ЖСЛ*; Это может быть любое расширение.

- Код, создаваемый пользовательским инструментом, должен быть допустимым и должен компилироваться самостоятельно с использованием только набора ссылок, имеющихся в проекте во время <xref:Microsoft.VisualStudio.Shell.Interop.IVsSingleFileGenerator.Generate%2A> выполнения.

     При компиляции временного PE в компиляторе предоставляется только один исходный файл с данными пользовательского инструмента. Таким образом, Пользовательский инструмент, использующий временный PE, должен создавать выходные файлы, которые могут быть скомпилированы независимо от других файлов в проекте.

## <a name="see-also"></a>См. также
- [Общие сведения об объекте BuildManager](/previous-versions/8f9kffa8(v=vs.140))
- [Реализация генераторов с одним файлом](../../extensibility/internals/implementing-single-file-generators.md)
- [Регистрация генераторов с одним файлом](../../extensibility/internals/registering-single-file-generators.md)