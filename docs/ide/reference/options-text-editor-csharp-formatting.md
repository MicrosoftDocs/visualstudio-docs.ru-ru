---
title: Варианты форматирования в редакторе C#
description: Узнайте, как использовать страницу "Форматирование" и ее вложенные страницы для задания параметров форматирования кода в редакторе кода при программировании в C#.
ms.custom: SEO-VS-2020
ms.date: 08/14/2018
ms.topic: reference
f1_keywords:
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting.Spacing
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting.NewLines
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting.Indentation
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting.Wrapping
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting
- VS.ToolsOptionsPages.Text_Editor.CSharp.Formatting.General
- VS.ToolsOptionsPages.Text_Editor.CSharp.Code_Style.Formatting.General
helpviewer_keywords:
- formatting options [C#]
- Text editor Options dialog box, formatting
author: TerryGLee
ms.author: tglee
manager: jmartens
ms.workload:
- dotnet
ms.openlocfilehash: eea4f9afd82dd87385e02ba9f149e91f336369a2
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99944073"
---
# <a name="options-dialog-box-text-editor--c--code-style--formatting"></a>Диалоговое окно "Параметры": Текстовый редактор \> C# \> Стиль кода \> Форматирование

Используйте страницу параметров **Форматирование** и ее вложенные страницы ([**Отступ**](#indentation-page), **Новые строки**, **Интервал** и **Перенос**) для задания параметров форматирования кода в редакторе кода.

Чтобы получить доступ к странице параметров, в строке меню выберите **Сервис** > **Параметры**. В диалоговом окне **Параметры** выберите **Текстовый редактор** > **C#** > **Стиль кода** > **Форматирование**.

> [!TIP]
> В нижней части каждой вложенной страницы **Отступ**, **Новые строки**, **Интервалы** и **Перенос** отображается окно предварительного просмотра, в котором можно увидеть действие каждого параметра. Чтобы использовать окно предварительного просмотра, выберите параметр форматирования. В окне предварительного просмотра отображается пример выбранного параметра. При изменении параметра с помощью переключателя или флажка содержимое окна предварительного просмотра меняется, отображая эффект применения новой настройки.

## <a name="formatting-general-page"></a>Страница "Форматирование" > "Общие"

### <a name="general-settings"></a>Общие параметры

Эти параметры определяют, *когда* редактор кода применяет параметры форматирования к коду.

|Метка|Описание|
|-----------|-----------------|
|**Автоматически форматировать при вводе**|Если параметр не выбран, параметры **форматирования оператора при вводе запятой ";"** и **форматирования блока при вводе фигурной скобки "}"** отключены.|
|**Автоматически форматировать оператор при вводе ";"**|Если установлен этот флажок, форматирование операторов выполняется по завершении в соответствии с выбранными для редактора параметрами.|
|**Автоматически форматировать блок при вводе "}"**|Если установлен этот флажок, форматирование блоков кода выполняется в соответствии с выбранными для редактора параметрами, как только завершается блок кода.|
|**Автоматически форматировать при возврате**|Если параметр выбран, при нажатии клавиши **ВВОД** текст форматируется в соответствии с параметрами форматирования, выбранными для редактора.|
|**Автоматически форматировать при вставке**|Если этот параметр выбран, форматирование текста, вставляемого в редакторе, выполняется в соответствии с выбранными для редактора параметрами.|

::: moniker range="vs-2019"

Если ранее параметры стиля кода для файлов C# применялись с помощью команды **Форматировать документ** в Visual Studio 2017, теперь это можно сделать с использованием функции [**Очистка кода**](../code-styles-and-code-cleanup.md#apply-code-styles).

::: moniker-end

::: moniker range="vs-2017"

### <a name="format-document-settings"></a>Параметры форматирования документов

Эти параметры позволяют настроить команду **Форматировать документ**, чтобы выполнять дополнительную очистку кода в файле. Дополнительные сведения о применении этих параметров см. в разделе [Команда "Форматировать документ"](../code-styles-and-code-cleanup.md#apply-code-styles).

|Метка|Описание|Соответствующие правила EditorConfig и Сервис > Параметры|
|-----------|-----------------|-----------------|-----------------|
|**Применить все правила форматирования C# (отступы, перенос, интервалы)**|Команда **Форматировать документ** всегда исправляет ошибки форматирования. Этот параметр нельзя изменить.| [Параметры Core EditorConfig](../../ide/create-portable-custom-editor-options.md)<br/>[Параметры форматирования .NET EditorConfig](/dotnet/fundamentals/code-analysis/style-rules/formatting-rules)<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Форматирование** > [**Отступ**, или **Новые строки**, или **Интервал**, или **Перенос**]|
|**Выполнить дополнительную очистку кода во время форматирования**|Если этот параметр выбран, применяет исправления правил, указанные ниже, для команды **Edit.FormatDocument**.| Н/Д |
|**Удалить ненужные директивы using**|Если этот параметр выбран, удаляет ненужные директивы `using` при запуске **Edit.FormatDocument**.| Н/Д |
|**Сортировать директивы using**|Если этот параметр выбран, сортирует директивы `using` при запуске **Edit.FormatDocument**.| dotnet_sort_system_directives_first<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Дополнительно** > **Располагать директивы "System" первыми при сортировке using** |
|**Добавить или удалить фигурные скобки для однострочных управляющих инструкций**|Если этот параметр выбран, добавляет или удаляет фигурные скобки из однострочных управляющих инструкций при запуске **Edit.FormatDocument**.| csharp_prefer_braces<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода**  > **Настройки блока кода** > **Предпочтение фигурных скобок** |
|**Добавить модификаторы доступа**|Если этот параметр выбран, добавляет отсутствующие модификаторы доступа при запуске **Edit.FormatDocument**.| dotnet_style_require_accessibility_modifiers |
|**Сортировать модификаторы доступа**|Если этот параметр выбран, сортирует модификаторы доступа при запуске **Edit.FormatDocument**.| csharp_preferred_modifier_order<br/>visual_basic_preferred_modifier_order |
|**Применить настройки тела выражения или блока**|Если этот параметр выбран, преобразует члены с телом выражения в тела блока или наоборот при запуске **Edit.FormatDocument**.| [Параметры EditorConfig для члена с телом выражения](/dotnet/fundamentals/code-analysis/style-rules/language-rules#expression-bodied-members)<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Настройки выражений** > **Использовать тело выражения для методов, конструкторов и т. д.** |
|**Применить настройки для явного или неявного типа**|Если этот параметр выбран, преобразует `var` в явный тип или наоборот при запуске **Edit.FormatDocument**.| [Параметры EditorConfig явного типа](/dotnet/fundamentals/code-analysis/style-rules/language-rules#implicit-and-explicit-types)<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Настройки var** |
|**Применить настройки встроенных выходных переменных**|Если этот параметр выбран, встраивает переменные `out`, где возможно, при запуске **Edit.FormatDocument**.| csharp_style_inlined_variable_declaration<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Настройки переменных** > **Предпочитать встроенное объявление переменной** |
|**Применить настройки типа языка или платформы**|Если этот параметр выбран, преобразует типы языка в типы платформы или наоборот при запуске **Edit.FormatDocument**.| dotnet_style_predefined_type_for_locals_parameters_members<br/>dotnet_style_predefined_type_for_member_access<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Настройки предопределенного типа** |
|**Применить настройки инициализации объекта или набора**|Если этот параметр выбран, использует инициализаторы объектов и наборов, где это возможно, при запуске **Edit.FormatDocument**.| dotnet_style_object_initializer<br/>dotnet_style_collection_initializer<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Настройки выражений** > **Предпочитать инициализатор объекта** или **Предпочитать инициализатор набора** |
|**Применить настройки квалификации this.**|Если этот параметр выбран, применяет настройки `this.` при запуске **Edit.FormatDocument**.| [Параметры квалификации this. EditorConfig](/dotnet/fundamentals/code-analysis/style-rules/language-rules#this-and-me)<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода** > **Предпочтения this.** |
|**Делать закрытые поля доступными только для чтения, когда это возможно**|Если этот параметр выбран, делает закрытые поля `readonly`, где возможно, при запуске **Edit.FormatDocument**.| dotnet_style_readonly_field<br/><br/>**Сервис** > **Параметры** > **Текстовый редактор** > **C#**  > **Стиль кода**  > **Настройки поля** > **Предпочтение режима только для чтения** |
|**Удалить лишние операции приведения**|Если этот параметр выбран, удаляет ненужные приведения, где это возможно, при запуске **Edit.FormatDocument**.| Н/Д |
|**Удаление неиспользуемых переменных**|Если этот параметр выбран, удаляет неиспользуемые переменные при запуске **Edit.FormatDocument**.| Н/Д |

![Параметры очистки кода для C# в Visual Studio](media/format-document-settings.png)

::: moniker-end

## <a name="indentation-page"></a>Страница "Отступ"

Параметры отступов на этой странице применяются при автоматическом форматировании кода. Например, при вставке кода в файл, когда выбран параметр **Автоматически форматировать при вставке**. (Параметр **Автоматически форматировать при вставке** находится в разделе **Форматирование** > **Общие**.)

![Параметры отступа в текстовом редакторе C# в Visual Studio](media/csharp-indentation-options.png)

> [!TIP]
> Параметры отступа доступны также на странице параметров **Текстовый редактор** > **C#**  > **Вкладки**. Они определяют только место, в которое редактор кода помещает курсор при нажатии клавиши **ВВОД** в конце строки.
>
> ![Параметры на странице "Вкладки" в текстовом редакторе C# в Visual Studio](media/csharp-tabs-options.png)

## <a name="see-also"></a>См. также раздел

- [Страница "Общие", папка "Среда", диалоговое окно "Параметры"](../../ide/reference/general-environment-options-dialog-box.md)
