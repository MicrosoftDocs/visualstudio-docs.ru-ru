---
title: Параметры рефакторинга статических локальных функций
description: Узнайте, как использовать меню "Быстрые действия и рефакторинг", чтобы сделать локальную функцию статической и передать переменные, определенные за пределами функции, в объявление и вызовы функции.
ms.custom: SEO-VS-2020
ms.date: 02/10/2020
ms.topic: reference
author: governesss
ms.author: midumont
manager: jmartens
f1_keywords:
- vs.csharp.refactoring.make.local.function.static
dev_langs:
- CSharp
ms.workload:
- dotnet
ms.openlocfilehash: 050ce5e90d9141892ff65602ca560d0add83da5d
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99967193"
---
# <a name="static-local-function-refactorings-and-quick-actions"></a>Рефакторинг статических локальных функций и быстрые действия

В этой статье описаны две функции повышения производительности, связанные со статическими локальными функциями. Одна из них — рефакторинг, который делает локальную функцию статической, а другая — быстрое действие, создающее код для передачи переменных в статическую локальную функцию.

## <a name="make-local-function-static"></a>Превращение локальной функции в статическую

Область применения этого рефакторинга:

- C#

**Что?** Превращение локальной функции в статическую и передача переменных, определенных вне функции, в объявление и вызовы функции.

**Когда?** Необходимо, чтобы локальная функция была статической, а все переменные определялись в области действия функции.

**Зачем?** Статические локальные функции обеспечивают удобочитаемость: благодаря изоляции конкретного кода его проще разобрать, прочесть повторно и повторно использовать. Статические локальные функции также обеспечивают функции определения области, чтобы предотвратить "замусоривание" класса со статической функцией, которая вызывается только в одном методе.

### <a name="how-to"></a>Практическое руководство

1. Поместите курсор на имя локальной функции.

2. Нажмите клавиши **CTRL**+ **.** (точка), чтобы открыть меню **Quick Actions and Refactorings** (Быстрые действия и рефакторинг).

   ![Превращение локальной функции в статическую](media/make-local-function-static.png)

3. Выберите **Make local function ‘static’** (Сделать локальную функцию статической).

## <a name="pass-variable-explicitly-in-a-static-local-function"></a>Явная передача переменной в статическую локальную функцию

Это быстрое действие применимо к:

- C#

**Что?** Явная передача переменной в локальную статическую функцию.

**Когда?** Локальная функция должна быть статической, но по-прежнему использовать переменные, инициализированные за ее пределами.

**Зачем?** Используя статические локальные функции, вы оставляете пояснения для читателей. При этом они будут знать, что их можно объявить и вызвать только в конкретном контексте программы. Эти функции обеспечивают гибкость определения переменных вне этого контекста и возможность их передачи в качестве аргументов в статическую локальную функцию.

### <a name="how-to"></a>Практическое руководство

1. Поместите курсор на переменную в месте ее использования в статической локальной функции.

2. Нажмите клавиши **CTRL**+ **.** (точка), чтобы открыть меню **Quick Actions and Refactorings** (Быстрые действия и рефакторинг).

   ![Явная передача переменной в статическую локальную функцию](media/pass-variable-explicitly-static-local-function.png)

3. Выберите **Явно передать переменную в локальную статическую функцию**.

## <a name="see-also"></a>См. также раздел

- [Рефакторинг](../refactoring-in-visual-studio.md)