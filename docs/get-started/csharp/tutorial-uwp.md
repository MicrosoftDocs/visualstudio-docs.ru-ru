---
title: Создание приложения UWP с помощью Visual Studio и C#
description: Создание приложения UWP в Visual Studio с помощью XAML и C#
titleSuffix: ''
ms.custom: seodec18, get-started, SEO-VS-2020
ms.date: 09/20/2019
ms.technology: vs-ide-general
ms.topic: tutorial
ms.devlang: CSharp
author: j-martens
ms.author: jmartens
manager: jmartens
dev_langs:
- CSharp
ms.workload:
- multiple
ms.openlocfilehash: 2e68039e02a6181ef7970fdc6a1b3bd6ad173093
ms.sourcegitcommit: 6d88913a8b5a9e5eda01d3f95205b4d138f440f8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2021
ms.locfileid: "107295641"
---
# <a name="tutorial-create-your-first-universal-windows-platform-application-in-visual-studio-with-xaml-and-c35"></a>Учебник. Создание первого приложения универсальной платформы Windows в Visual Studio с помощью XAML и C&#35;

В рамках этого краткого руководства по возможностям интегрированной среды разработки (IDE) Visual Studio вы создадите простое приложение "Hello World" для выполнения на устройстве с Windows 10. Для этого потребуется использование шаблона проекта универсальной платформы Windows (UWP), расширяемого языка разметки приложений (XAML) и языка программирования C#.

::: moniker range="vs-2017"
Установите Visual Studio бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/vs/older-downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=vs+2017+download), если еще не сделали этого.
::: moniker-end
::: moniker range="vs-2019"
Установите Visual Studio бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/downloads), если еще не сделали этого.
::: moniker-end

## <a name="create-a-project"></a>Создание проекта

Сначала создадим новый проект приложения для универсальной платформы Windows. Для этого типа проекта уже имеются все нужные файлы шаблонов, что избавляет вас от лишней работы.

::: moniker range="vs-2017"
1. Запустите Visual Studio.

1. В верхней строке меню последовательно выберите **Файл** > **Создать** > **Проект**.

1. В левой панели диалогового окна **Новый проект** разверните узел **Visual C#** и выберите **Универсальные приложения**. В средней панели выберите **Пустое приложение (универсальное приложение Windows)** . Назовите проект *HelloWorld* и нажмите **OK**.

   > [!NOTE]
   > Убедитесь, что исходный проект находится на отформатированном диске **NTFS**, например на диске операционной системы (ОС). В противном случае могут возникнуть проблемы при сборке и выполнении проекта. 

   ![Шаблон проекта "Универсальное приложение Windows" в диалоговом окне "Новый проект" в интегрированной среде разработки Visual Studio](media/new-project-csharp-uwp-helloworld.png)

   > [!NOTE]
   > Если шаблон проекта **Пустое приложение (универсальное приложение Windows)** отсутствует, щелкните ссылку **Открыть установщик Visual Studio** в левой области диалогового окна **Новый проект**.<br><br>![Щелкните ссылку "Открыть Visual Studio Installer" в диалоговом окне "Новый проект"](../../ide/media/vb-open-visual-studio-installer-hello-world.png)<br><br>Запускается Visual Studio Installer. Выберите рабочую нагрузку **Разработка приложений для универсальной платформы Windows** и выберите **Изменить**.<br><br>![Рабочая нагрузка "Разработка приложений для универсальной платформы Windows" в Visual Studio Installer](media/uwp-dev-workload.png)

1. Подтвердите значения по умолчанию для параметров **Целевая версия** и **Минимальная версия** в диалоговом окне **Новый проект приложения для универсальной платформы Windows**.

   ![Примите параметры целевой версии по умолчанию и минимальной версии в диалоговом окне нового проекта универсальной платформы Windows](media/new-uwp-project-target-minver-dialog.png)
::: moniker-end

::: moniker range=">=vs-2019"
1. Откройте Visual Studio и в начальном окне выберите **Создать проект**.

1. На экране **Создание проекта** введите в поле поиска *Универсальная платформа Windows*, выберите шаблон C# **Пустое приложение (универсальная платформа Windows)** и щелкните **Далее**.

   ![Снимок экрана "Создание проекта"](media/vs-2019/uwp-create-new-project.png)

   > [!NOTE]
   > Если вы не видите здесь шаблон **Пустое приложение (универсальное приложение Windows)** , щелкните ссылку **Установка других средств и компонентов**.<br><br>![Щелкните ссылку "Установка других средств и компонентов"](media/vs-2019/uwp-not-finding.png)<br><br>Запускается Visual Studio Installer. Выберите рабочую нагрузку **Разработка приложений для универсальной платформы Windows** и выберите **Изменить**.<br><br>![Рабочая нагрузка "Разработка приложений для универсальной платформы Windows" в Visual Studio Installer](media/uwp-dev-workload.png)

1. Присвойте проекту имя _HelloWorld_ и нажмите кнопку **Создать**.

   ![Экран настройки проекта](media/vs-2019/uwp-configure-your-project.png)

1. Подтвердите значения по умолчанию для параметров **Целевая версия** и **Минимальная версия** в диалоговом окне **Новый проект приложения для универсальной платформы Windows**.

   ![Подтвердите значения по умолчанию для параметров Целевая версия и Минимальная версия в диалоговом окне Новый проект приложения для универсальной платформы Windows.](media/vs-2019/new-uwp-project-target-minver-dialog.png)
::: moniker-end

   > [!NOTE]
   > При первом использовании Visual Studio для создания приложения UWP появится диалоговое окно **Параметры**. Выберите **Режим разработчика**, затем нажмите **Да**.<br><br>
   > ![Включение режима разработчика в диалоговом окне параметров UWP](media/enable-developer-mode.png)<br><br>Visual Studio установит дополнительный пакет режима разработчика. После завершения установки пакета закройте диалоговое окно **Параметры**.

## <a name="create-the-application"></a>Создание приложения

Теперь можно приступить к разработке. Мы добавим элемент управления ''Кнопка'', назначим кнопке действие и затем запустим приложение "Hello World", чтобы посмотреть, как оно выглядит.

### <a name="add-a-button-to-the-design-canvas"></a>Добавление кнопки на холст конструктора

1. В **Обозревателе решений** дважды щелкните на файле *MainPage.xaml*, чтобы открыть разделенное представление.

   ::: moniker range="vs-2017"
   ![В обозревателе решений выберите файл MainPage.xaml ](media/uwp-solution-explorer-MainPage-xaml.png)
   ::: moniker-end
   ::: moniker range=">=vs-2019"
   ![В обозревателе решений выберите файл MainPage.xaml](media/vs-2019/uwp-solution-explorer-mainpage-xaml.png)
   ::: moniker-end

   Откроется две панели: **Конструктор XAML**, содержащий холст конструктора, и **редактор XAML**, в котором можно добавлять и изменять код.

   ![Панель конструктора XAML в редакторе XAML](media/uwp-xaml-editor.png)

1. Щелкните **Панель элементов**, чтобы открыть всплывающее окно "Панель элементов".

   ![Щелкните панель элементов, чтобы открыть всплывающее окно "Панель элементов"](media/uwp-toolbox.png)

   (Если параметр **Панель элементов** отсутствует, его можно открыть в строке меню. Для этого выберите **Вид** > **Панель инструментов**. Либо нажмите клавиши **CTRL**+**ALT**+**X**.)

1. Щелкните значок **Закрепить**, чтобы закрепить окно "Панель элементов".

   ![Щелкните значок "Закрепить", чтобы закрепить окно "Панель элементов"](media/uwp-toolbox-autohide.png)

1. Щелкните элемент управления **Кнопка** и перетащите его на холст конструктора.

   ![Щелкните элемент управления "Кнопка" и перетащите его на холст конструктора](media/uwp-toolbox-add-button-control.png)

   Если посмотреть на код в **редакторе XAML**, мы увидим, что кнопка была также добавлена туда:

   ![Кнопка "Показать" в редакторе XAML](media/uwp-xaml-control-code-window.png)

### <a name="add-a-label-to-the-button"></a>Добавление метки к кнопке

1. В **редакторе XAML** измените значение параметра Content кнопки с "Button" на "Hello World!".

   ![Измените значение параметра Content кнопки на "Hello World"](media/uwp-change-button-text-in-xaml-code-window.png)

1. Обратите внимание, что кнопка в **Конструкторе XAML** также изменится.

   ![Надпись на кнопке на холсте конструктора изменится на "Hello World"](media/uwp-button-text-change-in-design-canvas.png)

### <a name="add-an-event-handler"></a>Добавление обработчика событий

Название "обработчик событий" звучит как что-то сложное, но это всего лишь еще одно имя в коде, которое вызывается, когда происходит какое-то событие. В нашем случае он добавляет действие к кнопке "Hello World!". .

1. Дважды щелкните элемент управления "Кнопка" на холсте конструктора.

1. Измените код обработчика событий в файле *MainPage.xaml.cs*, страница с выделенным кодом.

   Здесь начинается самое интересное. Обработчик события по умолчанию выглядит так:

   ![Обработчик события Button_Click по умолчанию ](media/uwp-button-click-code.png)

   Давайте изменим его, чтобы он выглядел следующим образом:

   ![Новый асинхронный обработчик события Button_Click ](media/uwp-add-hello-world-async-code.png)

   Ниже приведен код для копирования и вставки:

   ```C#
   private async void Button_Click(object sender, RoutedEventArgs e)
         {
             MediaElement mediaElement = new MediaElement();
             var synth = new Windows.Media.SpeechSynthesis.SpeechSynthesizer();
             Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream = await synth.SynthesizeTextToStreamAsync("Hello, World!");
             mediaElement.SetSource(stream, stream.ContentType);
             mediaElement.Play();
         }
   ```

#### <a name="what-did-we-just-do"></a>Что же мы только что сделали?

Этот код использует некоторые функции API Windows для создания объекта синтеза речи и передает ему некоторый текст для озвучивания. (Дополнительные сведения об использовании `SpeechSynthesis` см. в статье <xref:System.Speech.Synthesis>.)

## <a name="run-the-application"></a>Запуск приложения

::: moniker range="vs-2017"
Пришло время для построения, развертывания и запуска UWP-приложения "Hello World", чтобы посмотреть, как оно выглядит и как оно звучит. Ниже описывается порядок действий.

1. Используйте кнопку воспроизведения (с меткой **локальный компьютер**), чтобы запустить приложение на локальном компьютере.

   ![Выберите локальный компьютер для запуска и отладки приложения UWP](media/uwp-start-or-debug.png)

   (Вы также можете выбрать команду **Отладка** > **Начать отладку** в строке меню или нажать клавишу F5 для запуска приложения.)

1. Посмотрите на свое приложение, которое появится вскоре после исчезновения всплывающего окна. Приложение должно выглядеть следующим образом:

   ![UWP-приложение "Hello World"](media/uwp-hello-world-app.png)

1. Нажмите кнопку **Hello World**.

   Ваше устройство с Windows 10 буквально произнесет "Hello, World!".

1. Для закрытия приложения нажмите кнопку **Остановить отладку** на панели инструментов. (Либо выберите пункт меню **Отладка** > **Остановить отладку** или нажмите клавиши SHIFT+F5.)

::: moniker-end
::: moniker range=">=vs-2019"
Пришло время для построения, развертывания и запуска UWP-приложения "Hello World", чтобы посмотреть, как оно выглядит и как оно звучит. Ниже описывается порядок действий.

1. Используйте кнопку воспроизведения (с меткой **локальный компьютер**), чтобы запустить приложение на локальном компьютере.

   ![Выберите локальный компьютер для запуска и отладки приложения UWP](media/uwp-start-or-debug.png)

   (Вы также можете выбрать команду **Отладка** > **Начать отладку** в строке меню или нажать клавишу F5 для запуска приложения.)

1. Посмотрите на свое приложение, которое появится вскоре после исчезновения всплывающего окна. Приложение должно выглядеть следующим образом:

   ![UWP-приложение Hello World](media/vs-2019/uwp-hello-world-app.png)

1. Нажмите кнопку **Hello World**.

   Ваше устройство с Windows 10 буквально произнесет "Hello, World!".

1. Для закрытия приложения нажмите кнопку **Остановить отладку** на панели инструментов. (Либо выберите пункт меню **Отладка** > **Остановить отладку** или нажмите клавиши SHIFT+F5.)

::: moniker-end

## <a name="next-steps"></a>Следующие шаги

Поздравляем с завершением этого учебника! Мы надеемся, что вы узнали некоторые основные сведения об универсальной платформе Windows (UWP) и интегрированной среде разработки Visual Studio. Для получения дополнительных сведений перейдите к следующему руководству:

> [!div class="nextstepaction"]
> [Создание пользовательского интерфейса](/windows/uwp/design/basics/xaml-basics-ui)

## <a name="see-also"></a>См. также

- [Обзор UWP](/windows/uwp/get-started/universal-application-platform-guide)
- [Получение примеров приложений UWP](/windows/uwp/get-started/get-uwp-app-samples)
