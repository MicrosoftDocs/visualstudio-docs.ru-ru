---
title: Общие сведения о редактировании в редакторе кода
description: Сведения о том, как использовать редактор кода в Visual Studio для добавления кода в файл, а также о написании кода, перехода к нему и его рефакторингу.
ms.date: 11/30/2017
ms.technology: vs-ide-general
ms.custom:
- vs-acquisition
- get-started
- SEO-VS-2020
ms.topic: tutorial
author: TerryGLee
ms.author: tglee
manager: jmartens
dev_langs:
- CSharp
ms.workload:
- multiple
ms.openlocfilehash: 0ce656c43dd04ab91bd3fd34dcd01dbad27cc644
ms.sourcegitcommit: e3a364c014ccdada0860cc4930d428808e20d667
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2021
ms.locfileid: "112386453"
---
# <a name="learn-to-use-the-code-editor"></a>Узнайте, как использовать редактор кода

В этом 10-минутном введении, посвященном редактору кода в Visual Studio, мы добавим код в файл, чтобы рассмотреть некоторые способы, упрощающие написание, понимание кода и навигацию по нему в Visual Studio.

::: moniker range="vs-2017"

> [!TIP]
> Установите Visual Studio бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/vs/older-downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=vs+2017+download), если еще не сделали этого.

::: moniker-end

::: moniker range="vs-2019"

> [!TIP]
> Установите Visual Studio бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/downloads), если еще не сделали этого.

::: moniker-end

::: moniker range="vs-2022"

> [!TIP]
> Установите Visual Studio 2022 бесплатно со страницы [скачиваемых материалов предварительной версии Visual Studio 2022](https://visualstudio.microsoft.com/vs/preview/vs2022), если еще не сделали этого.

::: moniker-end

Эта статья предполагает, что вы уже знакомы с языком программирования. В противном случае рекомендуется сначала посмотреть одно из кратких руководств по языкам программирования [Python](../ide/quickstart-python.md) или [C#](../get-started/csharp/tutorial-aspnet-core.md) либо по созданию консольного приложения с помощью [Visual Basic](../ide/quickstart-visual-basic-console.md) или [C++](/cpp/get-started/tutorial-console-cpp).

## <a name="create-a-new-code-file"></a>Создание файла кода

Для начала создайте файл и добавьте в него код.

::: moniker range="vs-2017"

1. Запустите Visual Studio.

::: moniker-end

::: moniker range=">=vs-2019"

1. Запустите Visual Studio. Нажмите клавишу **ESC** или нажмите **Продолжить без кода** в окне запуска, чтобы открыть среду разработки.

::: moniker-end

2. В меню **Файл** в строке меню выберите пункты **Создать** > **Файл**.

3. В диалоговом окне **Новый файл** в разделе **Общие** выберите **Класс Visual C#** и нажмите кнопку **Открыть**.

   Новый файл открывается в редакторе с каркасом класса C#. (Обратите внимание, что нам не нужно создавать полный проект Visual Studio, чтобы получить некоторые преимущества редактора кода. Вам нужен только файл кода!)

   ![Файл кода C# в Visual Studio](media/tutorial-editor.png)

## <a name="use-code-snippets"></a>Использование фрагментов кода

Visual Studio предоставляет удобные *фрагменты кода*, позволяющие быстро и легко создавать часто используемые блоки кода. [Фрагменты кода](../ide/code-snippets.md) доступны для различных языков программирования, включая C#, Visual Basic и C++. Давайте добавим фрагмент `void Main` C# в файл.

1. Поместите курсор над последней закрывающей фигурной скобкой **}** в файле и введите символы `svm`. (`svm` расшифровывается как `static void Main`. Метод [Main()](/dotnet/csharp/programming-guide/main-and-command-args/) является точкой входа для приложений C#.)

   Появится всплывающее диалоговое окно с информацией о фрагменте кода `svm`.

   ![IntelliSense для фрагмента кода в Visual Studio](media/tutorial-intellisense-snippet.png)

1. Два раза нажмите клавишу **TAB**, чтобы вставить фрагмент кода.

   Вы видите, как в файл добавляется сигнатура метода `static void Main()`.

Для разных языков программирования доступны различные фрагменты кода. Вы можете просмотреть фрагменты кода, доступные для используемого языка, выбрав **Изменить** > **IntelliSense** > **Вставить фрагмент** и указав папку вашего языка. Для C# список выглядит следующим образом.

![Список фрагментов кода C#](media/tutorial-code-snippet-list.png)

Список включает фрагменты кода для создания [класса](/dotnet/csharp/programming-guide/classes-and-structs/classes), [конструктора](/dotnet/csharp/programming-guide/classes-and-structs/constructors), цикла [for](/dotnet/csharp/language-reference/keywords/for), операторов [if](/dotnet/csharp/language-reference/keywords/if-else) и [switch](/dotnet/csharp/language-reference/keywords/switch) и многое другое.

## <a name="comment-out-code"></a>Закомментирование кода

Панель инструментов, которая находится в строке кнопок под строкой меню в Visual Studio, поможет повысить продуктивность написания кода. Например, можно переключить режим завершения IntelliSense ([IntelliSense](../ide/using-intellisense.md) — это помощник в написании кода, который отображает список подходящих методов и многое другое), увеличить или уменьшить отступ строки или закомментировать код, который вы не хотите компилировать. В этом разделе мы закомментируем код.

![Панель инструментов редактора](media/tutorial-editor-toolbar.png)

1. Вставьте следующий код в тело метода `Main()`.

    ```csharp
    // _words is a string array that we'll sort alphabetically
    string[] _words = {
        "the",
        "quick",
        "brown",
        "fox",
        "jumps"
    };

    string[] morewords = {
        "over",
        "the",
        "lazy",
        "dog"
    };

    IEnumerable<string> query = from word in _words
                                orderby word.Length
                                select word;
    ```

1. Мы не используем переменную `morewords`, но, возможно, воспользуемся ею позднее, поэтому удалять ее полностью не следует. Вместо этого давайте закомментируем эти строки. Выберите все определение формы `morewords` до закрывающей точки с запятой и нажмите кнопку **Закомментировать выделенные строки** на панели инструментов. Если вы предпочитаете использовать клавиатуру, нажмите **Ctrl**+**K**, **Ctrl**+**C**.

   ![Кнопка закомментирования](media/tutorial-comment-out.png)

   Символы комментария C# `//` добавляются в начало каждой выбранной строки, чтобы закомментировать код.

## <a name="collapse-code-blocks"></a>Свертывание блоков кода

Мы не хотим видеть пустой [конструктор](/dotnet/csharp/programming-guide/classes-and-structs/constructors) для созданного `Class1`, поэтому, чтобы не перенасыщать представление кода деталями, давайте свернем его. Выберите небольшое серое поле со знаком "минус" внутри в поле первой строки конструктора. Или, если вы предпочитаете использовать клавиатуру, поместите курсор в любое место кода конструктора и нажмите клавиши **CTRL**+**M**, **CTRL**+**M**.

![Кнопка свертывания структурирования](media/tutorial-collapse.png)

Блок кода сворачивается до первой строки, после которой идет многоточие (`...`). Чтобы развернуть блок кода, щелкните то же серое поле, в котором теперь находится знак "плюс", или нажмите клавиши **CTRL**+**M**, **CTRL**+**M** еще раз. Эта функция называется [структурированием](../ide/outlining.md) и особенно полезна при свертывании длинных методов или целых классов.

## <a name="view-symbol-definitions"></a>Просмотр определений символов

В редакторе Visual Studio можно легко проверить определение типа, метода и т. д. Один из способов заключается в том, чтобы перейти к файлу, который содержит определение, например, выбрав **Перейти к определению** в любом месте, где указана ссылка на этот символ. Сделать это еще быстрее и даже без перемещения фокуса с рабочего файла можно с помощью команды [Показать определение](../ide/go-to-and-peek-definition.md#peek-definition). Давайте посмотрим определение типа `string`.

1. Щелкните правой кнопкой мыши любой из экземпляров `string` и выберите пункт **Показать определение** в контекстном меню. Или нажмите **Alt**+**F12**.

   Отображается всплывающее окно с определением класса `String`. Вы можете прокрутить его или даже показать определение другого типа из просматриваемого кода.

   ![Окно "Показать определение"](media/tutorial-peek-definition.png)

1. Закройте окно просматриваемого определения, щелкнув небольшое поле со знаком "x" в его правом верхнем углу.

## <a name="use-intellisense-to-complete-words"></a>Использование IntelliSense для завершения слов

Технология [IntelliSense](../ide/using-intellisense.md) крайне полезна при написании кода. Она может отображать сведения о доступных членах типа или сведения о параметрах для различных перегрузок метода. Вы также можете использовать IntelliSense для завершения слова после того, как ввели достаточно знаков для однозначного его определения. Давайте добавим строку кода для вывода упорядоченных строк в окне консоли — это стандартное место для отображения выходных данных программы.

1. Начните набирать следующий код под переменной `query`.

   ```csharp
   foreach (string str in qu
   ```

   Вы видите, как IntelliSense показывает **Краткие сведения** о символе `query`.

   ![Завершение слов IntelliSense в Visual Studio](media/tutorial-intellisense-completion-list.png)

1. Чтобы вставить оставшуюся часть слова `query` с помощью функции завершения слов IntelliSense, нажмите клавишу **Tab**.

1. Завершите блок кода, чтобы он выглядел аналогично приведенному ниже примеру кода. Вы даже можете снова попрактиковаться в использовании фрагментов кода, введя `cw` и дважды нажав клавишу **TAB**, чтобы создать код `Console.WriteLine`.

   ```csharp
   foreach (string str in query)
   {
      Console.WriteLine(str);
   }
   ```

## <a name="refactor-a-name"></a>Рефакторинг имени

Никто не пишет код правильно с первого раза, и, среди прочего, вам может потребоваться изменить имя переменной или метода. Давайте попробуем использовать функциональность [рефакторинга](../ide/refactoring-in-visual-studio.md) Visual Studio, чтобы переименовать переменную `_words` в `words`.

1. Поместите курсор на определение переменной `_words` и выберите пункт **Переименовать** в контекстном меню или нажмите клавиши **CTRL**+**R**, **CTRL**+**R**.

   В верхней правой части редактора отображается всплывающее диалоговое окно **Переименование**.

1. Введите нужное имя **words**. Обратите внимание, что ссылка на `words` в запросе также переименовывается автоматически. Перед нажатием клавиши **ВВОД** установите флажок **Включить комментарии** во всплывающем окне **Переименование**.

   ![Переименование - диалоговое окно](media/tutorial-rename.png)

1. Нажмите клавишу **ВВОД**.

   Переименованы были оба экземпляра `words`, а также ссылка на `words` в комментарии кода.

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Сведения о проектах и решениях](../get-started/tutorial-projects-solutions.md)

## <a name="see-also"></a>См. также

- [Фрагменты кода](../ide/code-snippets.md)
- [Навигация по коду](../ide/navigating-code.md)
- [Структура](../ide/outlining.md)
- [Функции "Перейти к определению" и "Показать определение"](../ide/go-to-and-peek-definition.md)
- [Рефакторинг](../ide/refactoring-in-visual-studio.md)
- [Использование IntelliSense](../ide/using-intellisense.md)
