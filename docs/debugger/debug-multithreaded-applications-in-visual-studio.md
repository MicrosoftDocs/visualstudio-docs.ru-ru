---
title: Отладка многопоточных приложений | Документация Майкрософт
description: Отладка многопоточных приложений в Visual Studio. Ознакомьтесь со средствами для отладки и статьями об отладке многопоточных приложений.
ms.custom: SEO-VS-2020
ms.date: 11/06/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.gputthreads
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- threading [Visual Studio], debugging
- debugging [Visual Studio], high-performance computing
- debugging [Visual Studio], multithreaded
- multithreaded debugging
- high-performance debugging
ms.assetid: 9d175bc2-1d95-4c47-9bc3-9755af968a9c
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 5551ffd39bfe3485d0b6e31def0b3cfff9c7e3b1
ms.sourcegitcommit: e3a364c014ccdada0860cc4930d428808e20d667
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2021
ms.locfileid: "112389765"
---
# <a name="debug-multithreaded-applications-in-visual-studio"></a>Отладка многопоточных приложений в Visual Studio
Поток — это последовательность инструкций, которой операционная система предоставляет время процессора. Каждый процесс, выполняющийся в операционной системе, состоит по крайней мере из одного потока. Процессы, имеющие более одного потока, называются многопоточными.

Компьютеры с несколькими процессорами, с многоядерными процессорами или процессами с технологией Hyper-Threading могут выполнять несколько одновременных потоков. Параллельная обработка с использованием нескольких потоков может значительно повысить производительность программы, но также может сделать отладку намного сложнее, так как появляется необходимость следить за несколькими потоками

Кроме того, многопоточность связана с возникновением новых типов потенциальных ошибок. Например, двум потокам или более может потребоваться доступ к ресурсу, но в каждый момент времени только один может делать это безопасно. Необходимо взаимное исключение для того, чтобы только один поток имел доступ к ресурсу в каждый момент времени. Если взаимное исключение реализуется неверно, может случиться *взаимоблокировка*, когда ни один поток не будет выполняться. Взаимоблокировки часто являются серьезной проблемой, которую сложно устранить.

## <a name="tools-for-debugging-multithreaded-apps"></a>Средства отладки многопоточных приложений

В Visual Studio доступны различные средства для отладки многопоточных приложений.

- Основные средства для отладки потоков — это окно **Потоки**, маркеры потоков в окнах исходного кода, окно **Параллельные стеки**, окно **Контроль параллельных данных** и панель инструментов **Место отладки**. Сведения об окне **Потоки** и панели инструментов **Место отладки** см. в статье [Пошаговое руководство. отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md). Сведения об использовании окон **Параллельные стеки** и **Контроль параллельных данных** см. в статье [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md). В обеих статьях рассматривается использование маркеров потоков.

- Для кода, использующего [библиотеку параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl) или [среду выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/), основными средствами отладки являются окно **Параллельные стеки**, окно **Контроль параллельных данных** и окно **Задачи**, которое также поддерживает JavaScript. Чтобы начать работу, см. статьи [Пошаговое руководство. Отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md) и [Пошаговое руководство. Отладка приложения C++ AMP](/cpp/parallel/amp/walkthrough-debugging-a-cpp-amp-application).

- Основным средством отладки потоков в GPU является окно **Потоки GPU**. См. практическое руководство по [ Использование окна потоков GPU](../debugger/how-to-use-the-gpu-threads-window.md).

- Основные средства для работы с процессами — это диалоговое окно **Присоединение к процессу**, окно **Процессы** и панель инструментов **Место отладки**.

Visual Studio также предоставляет эффективные средства для работы с точками останова и трассировки, что может быть полезно при отладке многопоточных приложений. Используйте условия и фильтры точек останова для установки точек останова в отдельных потоках. Точки трассировки дают возможность отслеживать выполнение программы без прерывания ее выполнения. Это может быть полезно для изучения неполадок, таких как взаимоблокировки. Дополнительные сведения см. в статье [Действия точки останова и точки отслеживания](../debugger/using-breakpoints.md#BKMK_Print_to_the_Output_window_with_tracepoints).

Отладка многопоточного приложения, которое имеет пользовательский интерфейс, может быть особенно сложной. Можно рассмотреть выполнение приложения на втором компьютере и использовать удаленную отладку. Дополнительные сведения см. в статье [Удаленная отладка](../debugger/remote-debugging.md).

## <a name="articles-about-debugging-multithreaded-apps"></a>Статьи об отладке многопоточных приложений

 [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md)

Обзор функций отладки потоков с акцентом на возможности в окне **Параллельные стеки** и окне **Контроль параллельных данных**.

 [Средства отладки потоков и процессов](../debugger/debug-threads-and-processes.md)

Перечень функций средств для отладки потоков и процессов в Visual Studio.

 [Отладка нескольких процессов](../debugger/debug-multiple-processes.md)

Поясняет принципы отладки нескольких процессов.

 [Пошаговое руководство: отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md).

Пошаговое руководство по использованию окна **Потоки** и панели инструментов **Место отладки**.

 [Пошаговое руководство: отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md)

Пошаговое руководство по использованию окон **Параллельные стеки** и **Задачи**.

 [Практическое руководство. Переключение на другой поток при отладке](../debugger/how-to-switch-to-another-thread-while-debugging.md)

Несколько способов переключения контекста отладки на другой поток.

 [Практическое руководство. Установка и снятие отметки для потоков](../debugger/how-to-flag-and-unflag-threads.md)

Пометка флагом потоков, которым нужно уделить особое внимание на время отладки.

 [Практическое руководство. Отладка в высокопроизводительном кластере](../debugger/how-to-debug-on-a-high-performance-cluster.md)

Методы отладки приложения, запущенного на высокопроизводительном кластере.

 [Советы по отладке потоков в машинном коде](../debugger/tips-for-debugging-threads-in-native-code.md)

Простые методы, которые могут быть полезны для отладки потока машинного кода.

 [Практическое руководство. Установка имени потока в машинном коде](../debugger/how-to-set-a-thread-name-in-native-code.md)

Дайте потоку имя, которое будет отображаться в окне **Потоки**.

 [Практическое руководство. Установка имени потока в управляемом коде](../debugger/how-to-set-a-thread-name-in-managed-code.md)

Дайте потоку имя, которое будет отображаться в окне **Потоки**.

## <a name="see-also"></a>См. также

- [Использование точек останова](../debugger/using-breakpoints.md)
- [Работа с потоками](/dotnet/standard/threading/index)
- [Многопоточность в компонентах](/previous-versions/3es4b6yy(v=vs.140))
- [Поддержка многопоточности для устаревшего кода](/cpp/parallel/multithreading-support-for-older-code-visual-cpp)
- [Отладка потоков и процессов](../debugger/debug-threads-and-processes.md)
- [Удаленная отладка](../debugger/remote-debugging.md)