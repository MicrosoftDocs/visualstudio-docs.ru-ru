---
title: CA2133. Делегаты должны быть привязаны к методам с соответствующей прозрачностью
description: Метод привязывает делегат, помеченный атрибутом SecurityCritical, к методу, который является прозрачным или помеченным атрибутом SecuritySafeCritical, или связывает делегат, который является прозрачным или безопасным для критического метода.
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2133
ms.assetid: a09672e2-63cb-4abd-9e8f-dff515e101ce
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 3ed864cce06ea120d2f7bb3315370e6e83cb963e
ms.sourcegitcommit: 80fc9a72e9a1aba2d417dbfee997fab013fc36ac
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/02/2021
ms.locfileid: "106214594"
---
# <a name="ca2133-delegates-must-bind-to-methods-with-consistent-transparency"></a>CA2133. Делегаты должны быть привязаны к методам с соответствующей прозрачностью

|Элемент|Значение|
|-|-|
|Идентификатор правила|CA2133|
|Категория|Microsoft.Security|
|Критическое изменение|Критическое|

> [!NOTE]
> Это предупреждение применяется только к коду, на котором работает CoreCLR (версия CLR, относящаяся к веб-приложениям Silverlight).

## <a name="cause"></a>Причина
Это предупреждение срабатывает для метода, который привязывает делегат, помеченный как, <xref:System.Security.SecurityCriticalAttribute> к методу, который является прозрачным или помеченным атрибутом <xref:System.Security.SecuritySafeCriticalAttribute> . Предупреждение также запускает метод, который привязывает прозрачный или безопасный делегат к критическому методу.

> [!NOTE]
> Это правило было признано устаревшим. Дополнительные сведения см. в разделе [устаревшие правила](fxcop-unported-deprecated-rules.md).

## <a name="rule-description"></a>Описание правила

Типы делегатов и методы, к которым они привязаны, должны иметь одинаковую прозрачность. Прозрачные и критические для безопасности делегаты могут быть привязаны только к другим прозрачным или безопасным методам. Аналогичным образом, критические делегаты могут быть привязаны только к критическим методам. Эти правила привязки гарантируют, что единственный код, который может вызвать метод через делегат, может также вызывать тот же метод напрямую. Например, правила привязки не позволяют прозрачному коду вызывать критический код непосредственно через прозрачный делегат.

## <a name="how-to-fix-violations"></a>Устранение нарушений

Чтобы устранить нарушение этого предупреждения, измените прозрачность делегата или метода, к которому он привязан, чтобы прозрачность этих двух эквивалентна.

## <a name="when-to-suppress-warnings"></a>Условия для отключения предупреждений

Для этого правила отключать вывод предупреждений не следует.

### <a name="code"></a>Код

:::code language="csharp" source="../snippets/csharp/VS_Snippets_CodeAnalysis/fxcop.security.ca2133.delegatesmustbindwithconsistenttransparency/cs/ca2133-delegatesmustbindwithconsistenttransparency.cs" id="Snippet1":::
