---
title: Задача MIDL | Документы Майкрософт
description: Сведения о задаче MIDL MSBuild, позволяющей создать программу-оболочку для компилятора с языка MIDL (midl.exe).
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- VC.Project.VCMidlTool.ServerStubFile
- VC.Project.VCMidlTool.ApplicationConfigurationMode
- VC.Project.VCMidlTool.GenerateServerFiles
- VC.Project.VCMidlTool.ClientStubFile
- VC.Project.VCMidlTool.LocaleID
- VC.Project.VCMidlTool.GenerateClientFiles
- VC.Project.VCMidlTool.SuppressCompilerWarnings
- VC.Project.VCMidlTool.TypeLibFormat
- vc.task.midl
dev_langs:
- VB
- CSharp
- C++
- jsharp
helpviewer_keywords:
- MSBuild (C++), MIDL task
- MIDL task (MSBuild (C++))
ms.assetid: 727efa8c-3336-40b8-8bef-ae6cbd77a422
author: ghogen
ms.author: ghogen
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: eadec17e7c5221f0b169d38b15b9601cec746fa4
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105094982"
---
# <a name="midl-task"></a>MIDL - задача

Является оболочкой для компилятора с языка MIDL (*midl.exe*). Дополнительные сведения см. в разделе [Справочник по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

## <a name="parameters"></a>Параметры

 Ниже приводятся параметры задачи **MIDL**. Большинство параметров задачи и некоторые наборы параметров соответствуют параметрам командной строки.

- **AdditionalIncludeDirectories**

     Необязательный параметр типа **String[]** .

     Добавляет каталог к списку каталогов, в которых производится поиск импортированных файлов IDL, в том числе файлов заголовков и файлов конфигурации приложений (ACF).

     Дополнительные сведения см. в описании параметра **/I** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **AdditionalOptions**

     Необязательный параметр **String** .

     Список параметров командной строки. Например, /\<option1> /\<option2> /\<option#>. Этот параметр используется для указания параметров командной строки, не представленных каким-либо другим параметром задачи MIDL.

     Дополнительные сведения см. в разделе [Справочник по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ApplicationConfigurationMode**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, то в IDL-файле разрешается использовать некоторые ключевые слова ACF.

     Дополнительные сведения см. в описании параметра **/app_config** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ClientStubFile**

     Необязательный параметр **String** .

     Задает имя клиентского файла-заглушки для интерфейса RPC.

     Дополнительные сведения см. в описании параметра **/cstub** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **ServerStubFile** в этой таблице.

- **CPreprocessOptions**

     Необязательный параметр **String** .

     Задает параметры, которые следует передать препроцессору C/C++. Укажите параметры препроцессора, разделенные пробелом. Ожидается параметр `/E`.

     Дополнительные сведения см. в описании параметра **/cpp_opt** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **DefaultCharType**

     Необязательный параметр **String** .

     Определяет тип символов по умолчанию, который должен использовать компилятор C при компиляции созданного кода.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**Со знаком**|**/char signed**|
    |**Без знака**|**/char unsigned**|
    |**ASCII**|**/char ascii7**|

     Дополнительные сведения см. в описании параметра **/char** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **DllDataFileName**

     Необязательный параметр **String** .

     Задает имя создаваемого файла *dlldata* для прокси-библиотеки.

     Дополнительные сведения см. в описании параметра **/dlldata** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **EnableErrorChecks**

     Необязательный параметр **String** .

     Задает тип проверки ошибок, которую создаваемые заглушки должны осуществлять во время выполнения.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**None**|**/error none**|
    |**Разрешить настройку**|**/error**|
    |**все**|**/error all**|

     Дополнительные сведения см. в описании параметра **/error** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ErrorCheckAllocations**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, проверить ошибки нехватки памяти.

     Дополнительные сведения см. в описании параметра **/error allocation** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ErrorCheckBounds**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, проверить совместимо-переменные и переменные массивы на соответствие требованиям к размеру передаваемых данных.

     Дополнительные сведения см. в описании параметра **/error bounds_check** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ErrorCheckEnumRange**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, проверить допустимость значения перечисления.

     Дополнительные сведения см. в описании параметра **/error enum** в справке по командной строке ( **/?** ) для *midl.exe*.

- **ErrorCheckRefPointers**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, проверить, что в клиентские заглушки не передаются пустые указатели.

     Дополнительные сведения см. в описании параметра **/error ref** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ErrorCheckStubData**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, создается заглушка, которая перехватывает исключения демаршалинга на стороне сервера и передает их обратно клиенту.

     Дополнительные сведения см. в описании параметра **/error stub_data** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **GenerateClientFiles**

     Необязательный параметр **String** .

     Определяет, должен ли компилятор создавать исходные файлы C для интерфейса RPC на стороне клиента.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**None**|**/client none**|
    |**Заглушка**|**/client stub**|

     Дополнительные сведения см. в описании параметра **/client** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **GenerateServerFiles**

     Необязательный параметр **String** .

     Определяет, должен ли компилятор создавать исходные файлы C для интерфейса RPC на стороне сервера.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**None**|**/server none**|
    |**Заглушка**|**/server stub**|

     Дополнительные сведения см. в описании параметра **/server** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **GenerateStublessProxies**

     Необязательный параметр типа **Boolean**.

     Если это значение`true`, создаются полностью преобразованные заглушки вместе с прокси-серверами без заглушек для объектных интерфейсов.

     Дополнительные сведения см. в описании параметра **/Oicf** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **GenerateTypeLibrary**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, файл библиотеки типов (с расширением *TLB*) не создается.

     Дополнительные сведения см. в описании параметра **/notlbf** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **HeaderFileName**

     Необязательный параметр **String** .

     Определяет имя создаваемого заголовочного файла.

     Дополнительные сведения см. в описании параметра **/h** или **/header** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **IgnoreStandardIncludePath**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, задача MIDL выполняет поиск только в тех каталогах, которые заданы ключом **AdditionalIncludeDirectories**, игнорируя текущий каталог и каталоги, указанные в переменной среды INCLUDE.

     Дополнительные сведения см. в описании параметра **/no_def_idir** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **InterfaceIdentifierFileName**

     Необязательный параметр **String** .

     Определяет имя *файла идентификатора интерфейса* для COM-интерфейса. При этом переопределяется имя по умолчанию, полученное путем добавления "_i.c" к имени файла IDL.

     Дополнительные сведения см. в описании параметра **/iid** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **LocaleID**

     Необязательный параметр типа **int**.

     Определяет *идентификатор языкового стандарта*, позволяющий использовать международные символы во входных файлах, именах файлов и путях к каталогам. Укажите идентификатор языкового стандарта в виде десятичного числа.

     Дополнительные сведения см. в описании параметра **/lcid**[Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). Также см. раздел [Идентификаторы языкового стандарта](/windows/desktop/intl/locale-identifiers).

- **MkTypLibCompatible**

     Необязательный параметр типа **Boolean**.

     Если это значение `true`, необходимо использовать формат входного файла, совместимый с *mktyplib.exe* версии 2.03.

     Дополнительные сведения см. в описании параметра **/mktyplib203** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также статью [Синтаксис файла ODL](/previous-versions/windows/desktop/automat/odl-file-syntax) на веб-сайте MSDN.

- **OutputDirectory**

     Необязательный параметр **String** .

     Определяет каталог по умолчанию, в который задача MIDL записывает выходные файлы.

     Дополнительные сведения см. в описании параметра **/out** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **PreprocessorDefinitions**

     Необязательный параметр типа **String[]** .

     Задает одно или несколько *определений*. Это имя и необязательное значение для передачи в препроцессор C (аналогично директиве `#define`). Форма каждой директивы определения — *имя [= значение]* .

     Дополнительные сведения см. в описании параметра **/D** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **UndefinePreprocessorDefinitions** в этой таблице.

- **ProxyFileName**

     Необязательный параметр **String** .

     Определяет имя прокси-файла интерфейса для COM-интерфейса.

     Дополнительные сведения см. в описании параметра **/proxy** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **RedirectOutputAndErrors**

     Необязательный параметр **String** .

     Перенаправляет выходные данные, такие как сообщения об ошибках и предупреждения, со стандартного пути в указанный файл.

     Дополнительные сведения см. в описании параметра **/o** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **ServerStubFile**

     Необязательный параметр **String** .

     Задает имя серверного файла-заглушки для интерфейса RPC.

     Дополнительные сведения см. в описании параметра **/sstub** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **ClientStubFile** в этой таблице.

- **Source**

     Обязательный параметр `ITaskItem[]`.

     Задает список исходных файлов, разделенных пробелами.

- **StructMemberAlignment**

     Необязательный параметр **String** .

     Задает выравнивание (*уровень упаковки*) структур в целевой системе.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**Не задан**|*\<none>*|
    |**1**|**/Zp1**|
    |**2**|**/Zp2**|
    |**4**|**/Zp4**|
    |**8**|**/Zp8**|

     Дополнительные сведения см. в описании параметра **/Zp** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). Параметр **/Zp** эквивалентен параметру **/pack** и более старому параметру **/align**.

- **SuppressCompilerWarnings**

     Необязательный параметр **Boolean** .

     Если это значение `true`, отменяются предупреждающие сообщения от задачи MIDL.

     Дополнительные сведения см. в описании параметра **/no_warn** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **SuppressStartupBanner**

     Необязательный параметр `Boolean`.

     Если задано значение `true`, запрещается отображение сообщения о номере версии и авторских правах при запуске задачи.

     Дополнительные сведения см. в описании параметра **/nologo** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **TargetEnvironment**

     Необязательный параметр типа **String**.

     Определяет среду, в которой выполняется приложение.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**Не задан**|*\<none>*|
    |**Win32**.|**/env win32**|
    |**Itanium;**|**/env ia64**|
    |**X64**|**/env x64**|

     Дополнительные сведения см. в описании параметра **/env** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **TrackerLogDirectory**

     Необязательный параметр `String`.

     Задает промежуточный каталог, в котором хранятся журналы отслеживания для этой задачи.

- **TypeLibFormat**

     Необязательный параметр типа **String**.

     Определяет формат файла библиотеки типов.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**Новый формат**|**/newtlb**|
    |**Старый формат**|**/oldtlb**|

     Дополнительные сведения см. в описании параметра **/newtlb** и **/oldtlb** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **TypeLibraryName**

     Необязательный параметр типа **String**.

     Задает имя файла библиотеки типов.

     Дополнительные сведения см. в описании параметра **/tlb** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **UndefinePreprocessorDefinitions**

     Необязательный параметр типа **String[]** .

     Отменяет любые предыдущие определения имени, сделанные при передаче имени в препроцессор C (аналогично директиве `#undefine`). Укажите одно или несколько ранее определенных имен.

     Дополнительные сведения см. в описании параметра **/U** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **PreprocessorDefinitions** в этой таблице.

- **ValidateAllParameters**

     Необязательный параметр `Boolean`.

     Если это значение `true`, создаются дополнительные сведения для проверки, которые используются при проведении проверок на целостность во время выполнения. Если это значение `false`, сведения для проверки не создаются.

     Дополнительные сведения см. в описании параметров **/robust** и **/no_robust** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference).

- **WarnAsError**

     Необязательный параметр `Boolean`.

     Если этот параметр равен `true`, все предупреждения обрабатываются как ошибки.

     Если параметр задачи MIDL **WarningLevel** не определен, предупреждения на уровне, заданном по умолчанию (уровне 1), обрабатываются как ошибки.

     Дополнительные сведения см. в описании параметра **/WX** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **WarningLevel** в этой таблице.

- **WarningLevel**

     Необязательный параметр типа **String**.

     Определяет серьезность (*уровень*) выдаваемых предупреждений. Если задан уровень 0, предупреждения не выдаются. В противном случае предупреждение выдается, если его уровень численно меньше или равен указанному значению.

     Укажите одно из следующих значений, каждое из которых соответствует параметру командной строки.

    |Значение|Параметр командной строки|
    |-----------|--------------------------|
    |**0**|**/W0**|
    |**1**|**/W1**|
    |**2**|**/W2**|
    |**3**|**/W3**|
    |**4**|**/W4**|

     Дополнительные сведения см. в описании параметра **/W** в [Справочнике по командной строке языка MIDL](/windows/desktop/Midl/midl-command-line-reference). См. также описание параметра **WarnAsError** в этой таблице.

## <a name="see-also"></a>См. также

- [Справочные сведения о задачах](../msbuild/msbuild-task-reference.md)
