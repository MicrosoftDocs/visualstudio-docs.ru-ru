---
title: Задача Exec | Документация Майкрософт
description: Узнайте, как использовать задачу Exec MSBuild для запуска указанной программы или команды с определенными аргументами.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- http://schemas.microsoft.com/developer/msbuild/2003#Exec
dev_langs:
- VB
- CSharp
- C++
- jsharp
helpviewer_keywords:
- Exec task [MSBuild]
- MSBuild, Exec task
ms.assetid: c9b7525a-b1c9-40fc-8bce-77a5b8f960d8
author: ghogen
ms.author: ghogen
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: c3b89e074a4c67e8d16a07eb48431ebe1ade694f
ms.sourcegitcommit: 155d5f0fd54ac1d20df2f5b0245365924faa3565
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/31/2021
ms.locfileid: "106083572"
---
# <a name="exec-task"></a>Exec - задача

Запускает заданную программу или команду с использованием заданных аргументов.

## <a name="parameters"></a>Параметры

В следующей таблице приводятся параметры для задачи `Exec`.

|Параметр|Описание|
|---------------|-----------------|
|`Command`|Обязательный параметр `String` .<br /><br /> Выполняемые команды. Это могут быть системные команды (например, attrib) или исполняемые файлы (например, *program.exe*, *runprogram.bat* или *setup.msi*).<br /><br /> Этот параметр может содержать несколько строк с командами. Кроме того, можно поместить несколько команд в пакетный файл и запустить его с помощью этого параметра.|
|`ConsoleOutput`|Необязательный выходной параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]` .<br /><br /> Выходные данные каждого элемента представляют собой строку из стандартных выходных данных или стандартного потока ошибок, созданного средством. Они захватываются, только если `ConsoleToMsBuild` задано значение `true`.|
|`ConsoleToMsBuild`|Необязательный параметр `Boolean`.<br /><br /> Если он имеет значение `true`, задача захватит стандартную ошибку и стандартные выходные данные средства и сделает их доступными в выходном параметре `ConsoleOutput`.<br /><br />Значение по умолчанию: `false`.|
|`CustomErrorRegularExpression`|Необязательный параметр `String`.<br /><br /> Указывает регулярное выражение, которое используется для выявления ошибочных строк в выходных данных средства. Это полезно при работе со средствами, которые создают нестандартно отформатированные выходные данные.<br /><br />Значение по умолчанию: `null` (без настраиваемой обработки).|
|`CustomWarningRegularExpression`|Необязательный параметр `String`.<br /><br /> Указывает регулярное выражение, которое используется для выявления строк с предупреждениями в выходных данных средства. Это полезно при работе со средствами, которые создают нестандартно отформатированные выходные данные.<br /><br />Значение по умолчанию: `null` (без настраиваемой обработки).|
|`EchoOff`|Необязательный параметр `Boolean`.<br /><br /> Если он имеет значение `true`, задача не будет создавать расширенную форму `Command` в журнале MSBuild.<br /><br />Значение по умолчанию: `false`.|
|`ExitCode`|Необязательный выходной параметр `Int32`, доступный только для чтения.<br /><br /> Указывает код выхода, предоставленный выполняемой командой, за исключением случаев, когда для задачи регистрируется ошибка, а процесс имеет код выхода 0 (успешно), то `ExitCode` получает значение -1.|
|`IgnoreExitCode`|Необязательный параметр `Boolean`.<br /><br /> Если он имеет значение `true`, то задача игнорирует код выхода, передаваемый выполняемой командой. В противном случае задача возвращает `false`, если выполняемая команда возвращает отличный от нуля код выхода.<br /><br />Значение по умолчанию: `false`.|
|`IgnoreStandardErrorWarningFormat`|Необязательный параметр `Boolean`.<br /><br /> Если он имеет значение `false`, из выходных данных отбираются строки, соответствующие стандартному формату ошибок и (или) предупреждений. Эти строки заносятся в журнал как ошибки или предупреждения соответственно. Значение `true` отключает это поведение.<br /><br />Значение по умолчанию: `false`.|
|`Outputs`|Необязательный выходной параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]` .<br /><br /> Содержит выходные элементы задачи. Задача `Exec` не устанавливает их самостоятельно. Вместо этого вы можете предоставить значения, которые будут переданы как выходные данные, чтобы использовать их в последующих элементах проекта.|
|`StdErrEncoding`|Необязательный выходной параметр `String`.<br /><br /> Указывает кодировку перехватываемого стандартного потока ошибки для задачи. По умолчанию используется текущая кодировка выходной консоли.|
|`StdOutEncoding`|Необязательный выходной параметр `String`.<br /><br /> Указывает кодировку перехватываемого стандартного потока вывода для задачи. По умолчанию используется текущая кодировка выходной консоли.|
|`UseUtf8Encoding`|Необязательный параметр `String`.<br /><br /> Указывает, следует ли использовать кодовую страницу UTF8 при обработке командной строки для выполненных команд. Допустимые значения: `Always`, `Never` или `Detect`. Значение по умолчанию — `Detect`, т. е. кодовая страница UTF8 используется только при наличии символов, отличающихся от ANSI.|
|`WorkingDirectory`|Необязательный параметр `String`.<br /><br /> Указывает каталог, в котором будет выполняться команда.<br /><br />По умолчанию: текущая рабочая папка проекта.|

[!INCLUDE [ToolTaskExtension arguments](includes/tooltaskextension-base-params.md)]

## <a name="remarks"></a>Примечания

Эта задача полезна, если отсутствует специальная задача MSBuild для задания, которое вы хотите выполнить. Однако задача `Exec`, в отличие от более специализированных задач, не может выполнять дополнительную обработку или условные операции на основе результатов, полученных из средства или от команды, для которых она выполняется.

Задача `Exec` вызывает *cmd.exe*, а не запускает процесс напрямую.

## <a name="example"></a>Пример

В следующем примере задача `Exec` выполняет команду.

```xml
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <ItemGroup>
        <Binaries Include="*.dll;*.exe"/>
    </ItemGroup>

    <Target Name="SetACL">
        <!-- set security on binaries-->
        <Exec Command="echo y| cacls %(Binaries.Identity) /G everyone:R"/>
    </Target>
</Project>
```

## <a name="see-also"></a>См. также

- [Задачи](../msbuild/msbuild-tasks.md)
- [Справочные сведения о задачах](../msbuild/msbuild-task-reference.md)
