---
title: Параметры и настройки Python
description: Сведения о различных настройках кода и проектов Python в Visual Studio.
ms.date: 03/13/2019
ms.topic: reference
f1_keywords:
- VS.ToolsOptionsPages.Python_Tools
- VS.ToolsOptionsPages.Python_Tools.General
- VS.ToolsOptionsPages.Python_Tools.Debugging
- VS.ToolsOptionsPages.Python_Tools.Diagnostics
- VS.ToolsOptionsPages.Python_Tools.Experimental
- VS.ToolsOptionsPages.Python_Tools.Interactive_Windows
- VS.ToolsOptionsPages.Text_Editor.Python.Advanced
author: JoshuaPartlow
ms.author: joshuapa
manager: jmartens
ms.workload:
- python
- data-science
ms.openlocfilehash: db26f71ac1b191cf5824e1c3f64d6cc1dfc2489b
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99939569"
---
# <a name="options-for-python-in-visual-studio"></a>Параметры для Python в Visual Studio

Чтобы просмотреть параметры Python, используйте команду меню **Средства** > **Параметры**, установите флажок **Показать все параметры**, а затем перейдите в раздел **Python**:

::: moniker range="vs-2017"
![Вкладка "Общие" диалогового окна "Параметры"](media/options-general.png)
::: moniker-end
::: moniker range=">=vs-2019"
![Вкладка "Общие" диалогового окна "Параметры"](media/options-general-2019.png)
::: moniker-end

Доступны и дополнительные параметры Python на вкладках **Текстовый редактор** > **Python** > **Дополнительно** и **Среда** > **Шрифты и цвета** в группе **Текстовый редактор**.

> [!Note]
> В группе **Экспериментальные** содержатся параметры для компонентов, которые все еще находятся в режиме разработки и здесь не рассматриваются. Они часто обсуждаются в записях [блога Майкрософт по разработке на Python](https://devblogs.microsoft.com/python/).

## <a name="general-options"></a>Общие параметры

(Вкладка **Средства** > **параметры** > **Python**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Показывать окно вывода при создании виртуальных окружений**| включить | Снимите флажок, чтобы предотвратить появление **окна вывода**. |
| **Показывать окно вывода при установке или удалении пакетов** | включить | Снимите флажок, чтобы предотвратить появление **окна вывода**. |
| **Show notifications bar to create environments** (Показать панель уведомлений для создания окружений) | включить | *Только для Visual Studio 2019.* Если установлен этот параметр, то при открытии пользователем проекта с файлом *requirements.txt* или *environment.yml* Visual Studio не применяет глобальное окружение по умолчанию, а отображает информационную панель с предложениями создать виртуальное окружение или среду Conda, соответственно. |
| **Показать панель уведомлений для установки пакетов** | включить | *Только для Visual Studio 2019.* Если установлен этот параметр, то при открытии пользователем проекта с файлом *requirements.txt* (без использования глобального окружения по умолчанию), Visual Studio сравнивает требования из этого файла со списком пакетов, установленных в текущем окружении. Если отсутствуют какие-либо пакеты, Visual Studio отображает запрос на установку зависимостей. |
| **Всегда запускать диспетчеры пакетов от имени администратора** | Off | Всегда повышает уровень прав для `pip install` и аналогичных операций диспетчера пакетов для всех окружений. Если при установке пакетов окружение находится в защищенной области файловой системы, например в папке *c:\Program Files*, Visual Studio запрашивает права администратора. В этом запросе можно указать, что следует всегда повышать уровень прав для команды установки только для этого конкретного окружения. См. дополнительные сведения о [вкладке "Пакеты"](python-environments-window-tab-reference.md#packages-tab). |
| **Автоматически создавать базу данных завершения при первом использовании** | включить | *Применяется к Visual Studio 2017 версии 15.5 и более ранним версиям, а также к более поздним версиям при использовании базы данных IntelliSense.* Повышает приоритет создания базы данных для библиотеки, когда вы вводите использующий ее код. Дополнительные сведения см. на [вкладке IntelliSense](python-environments-window-tab-reference.md?view=vs-2017&preserve-view=true#intellisense-tab). |
| **Игнорировать системные переменные PYTHONPATH** | включить | По умолчанию PYTHONPATH игнорируется, так как в Visual Studio есть более уместные способы указать пути поиска в окружениях и проектах. См. дополнительные сведения о [путях поиска](search-paths.md). |
| **Обновлять пути поиска при добавлении связанных файлов** | включить | Если параметр задан, добавление [связанного файла](managing-python-projects-in-visual-studio.md#linked-files) в проект обновляет [пути поиска](search-paths.md), чтобы система IntelliSense могла включить содержимое папки связанного файла в базу данных завершения. Снимите этот флажок, чтобы исключить подобное содержимое из базы данных завершения. |
| **Предупреждать, если не удается найти импортированный модуль** | включить | Снимите этот флажок, чтобы отключить предупреждения, когда известно, что импортированный модуль сейчас недоступен, однако больше никак не влияет на выполнение кода. |
| **Сообщать о несоответствии отступа как** | **Предупреждения** | Так как интерпретатор Python при определении области действия во многом полагается на правильный отступ, по умолчанию Visual Studio выдает предупреждения, когда обнаруживает несогласованные отступы, которые могут указывать на ошибки в коде. Если задать более строгое значение **Ошибки**, в описанных ситуациях завершается работа программы. Чтобы полностью отключить подобное поведение, выберите значение **Не**. |
| **Проверять наличие опросов и новостей** | **Раз в неделю** | *Visual Studio 2017 и более ранние версии.* Указывает, как часто Visual Studio может открывать окно, содержащее веб-страницы с опросами и новостями о Python, если доступны такие сведения. Доступны значения **Никогда**, **Раз в день**, **Раз в неделю** и **Раз в месяц**. |
| **Сбросить все окончательно скрытые диалоговые окна** (кнопка) | Н/Д | В разных диалоговых окнах предоставляются такие параметры, как **Больше не показывать**. Используйте эту кнопку, чтобы снять эти флажки и обеспечить повторное отображение диалоговых окон. |

::: moniker range="vs-2017"
![Вкладка "Общие" диалогового окна "Параметры"](media/options-general.png)
::: moniker-end
::: moniker range=">=vs-2019"
![Вкладка "Общие" диалогового окна "Параметры"](media/options-general-2019.png)
::: moniker-end

::: moniker range=">=vs-2019"
## <a name="conda-options"></a>Параметры Conda

(Вкладка **Сервис** > **Параметры** > **Python** > **Conda**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Путь к исполняемому файлу Conda** | (пусто) | Указывает точный путь к исполняемому файлу *conda.exe*, который следует использовать вместо стандартной установки Miniconda, которая предоставляется вместе с рабочей нагрузкой Python. Если здесь указан другой путь, он имеет приоритет над стандартной установкой и любыми исполняемыми файлами conda.exe, которые указаны в реестре. Этот параметр может потребоваться, если вы вручную установите более новую версию Anaconda или Miniconda или решите применить 32-разрядный дистрибутив вместо стандартного 64-разрядного. |

![Снимок экрана: диалоговое окно параметров инструментов Visual Studio с файлом Conda, выбранным в параметрах Python, и полем пути к исполняемому файлу Conda, показанным в правой панели.](media/options-conda.png)

::: moniker-end

## <a name="debugging-options"></a>Параметры отладки

(Вкладка **Средства** > **Параметры** > **Python** > **Отладка**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Запрашивать перед запуском, если есть ошибки** | включить | Если параметр задан, вам выводится запрос на подтверждение при выполнении кода с ошибками. Снимите этот флажок, чтобы отключить предупреждение. |
| **Ожидать входные данные при ненормальном завершении работы процесса**<br/><br/>**Ожидать входные данные при нормальном завершении работы процесса** | Включено (для обоих) | Программа Python, запущенная из Visual Studio, выполняется в собственном окне консоли. По умолчанию, каким бы образом работа программы ни завершилась, это окно ожидает нажатие вами клавиши, прежде чем закрыться. Чтобы убрать этот запрос и закрывать окно автоматически, снимите один или оба этих флажка. |
| **Дублировать вывод программы в окно вывода отладки** | включить | Отображает выходные данные программы как в отдельном окне консоли, так и в **окне вывода** Visual Studio. Снимите этот флажок, чтобы отображать выходные данные только в отдельном окне консоли. |
| **Прерывать при исключении SystemExit с нулевым кодом выхода** | Off | Если флажок установлен, отладчик останавливается на этом исключении. Если флажок снят, отладчик завершает работу, не прерывая выполнение. |
| **Включить отладку стандартной библиотеки Python** | Off | Позволяет выполнить по шагам исходный код стандартной библиотеки во время отладки, однако увеличивает время запуска отладчика.|
| **Показать возвращаемое функцией значение** | включить | *Только для Visual Studio 2019.* Отображает возвращаемые значения функции в окне **Локальные**, а затем выполняет в отладчике шаг с обходом функции (F10). |
| **Использование отладчика предыдущих версий** | Off | *Только для Visual Studio 2019.* Указывает, что Visual Studio следует использовать по умолчанию отладчик предыдущих версий. Дополнительные сведения см. в разделе [Использование отладчика предыдущих версий](debugging-python-in-visual-studio.md#use-the-legacy-debugger) статьи "Отладка кода Python". |

::: moniker range="vs-2017"
![Вкладка "Отладка" диалогового окна "Параметры"](media/options-debugging.png)
::: moniker-end
::: moniker range=">=vs-2019"
![Вкладка "Отладка" диалогового окна "Параметры"](media/options-debugging-2019.png)
::: moniker-end

## <a name="diagnostics-options"></a>Диагностические параметры

(Вкладка **Средства** > **Параметры** > **Python** > **Диагностика**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Включить журналы анализа** | включить | Включает подробные журналы, относящиеся к анализу установленных сред Python, при сохранении данных диагностики в файл или копировании их в буфер обмена с помощью кнопок. Этот параметр может значительно увеличить размер создаваемого файла, но часто необходим для диагностики проблем с IntelliSense. |
| **Сохранить диагностику в файле** (кнопка) | Н/Д | Запрашивает имя файла, а затем сохраняет журнал в текстовом файле. |
| **Копировать диагностику в буфер обмена** (кнопка) | Н/Д | Помещает весь журнал в буфер обмена. Эта операция может занять некоторое время в зависимости от размера журнала. |

![Вкладка "Диагностика" диалогового окна параметров Python](media/options-diagnostics.png)

## <a name="interactive-windows-options"></a>Параметры интерактивных окон

(Вкладка **Средства** > **Параметры** > **Python** > **Интерактивные окна**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Скрипты** | Н/Д | Указывает общую папку для скриптов запуска, применяемых ко всем **интерактивным** окнам для всех окружений. См. раздел [Скрипты запуска](python-environments-window-tab-reference.md#startup-scripts). Однако следует отметить, что сейчас эта функция не работает. |
| **Использовать стрелки "вверх" и "вниз" для навигации по журналу** | включить | Позволяет использовать клавиши со стрелками для перемещения по журналу в **интерактивном** окне. Снимите этот флажок, чтобы использовать клавиши со стрелками для перемещения по выходным данным **интерактивного** окна. |
| **Режим завершения** | **Вычислять только выражения без вызовов функций** | Для определения доступных элементов выражения в **интерактивном** окне может потребоваться вычислить текущее незавершенное выражение, что может привести к побочным эффектам или многократным вызовам функций. Значение по умолчанию **Вычислять только выражения без вызовов функций** исключает выражения, которые распознаются как вызывающие функцию, но вычисляет другие выражения. Например, при нем вычисляется `a.b`, но не `a().b`.  Значение **Никогда не вычислять выражения** устраняет все побочные эффекты, используя только нормальную подсистему IntelliSense для предложений. При выборе значения **Вычислять все выражения** выражение вычисляется полностью, чтобы получить предложения независимо от наличия побочных эффектов. |
| **Скрывать предложения статического анализа** | Off | Когда параметр задан, отображаются только предложения, получаемые путем вычисления выражения. Если используется совместно с **режимом завершения** **Никогда не вычислять выражения**, в **интерактивном** окне не отображается никаких полезных завершений. |

![Вкладка "Интерактивные окна" диалогового окна с параметрами Python](media/options-interactive-windows.png)

::: moniker range=">=vs-2019"
## <a name="language-server-options"></a>Параметры языкового сервера

(Вкладка **Сервис** > **Параметры** > **Python** > **Языковой сервер**.)

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Отключить завершение из Typeshed** | Off | Обычно IntelliSense в Visual Studio использует пакетную версию Typeshed (набор файлов с расширением *.pyi* ) для поиска подсказок при вводе в стандартных и сторонних библиотеках для Python 2 и Python 3. Этот параметр отключает такое поведение для пакетной версии TypeShed. |
| **Настраиваемый путь Typeshed** | (пусто) | Если установлен этот параметр, Visual Studio использует файлы Typeshed из указанного пути вместо расположения пакетной версии. Значение игнорируется, если включен параметр **Отключить завершение из Typeshed**. |

![Снимок экрана: диалоговое окно параметров инструментов Visual Studio с языковым сервером, выбранным в параметрах Python, и параметрами языкового сервера, показанными в правой панели.](media/options-language-server.png)

::: moniker-end

## <a name="advanced-python-editor-options"></a>Дополнительные параметры редактора Python

(Вкладка **Средства** > **Параметры** > **Текстовый редактор** > **Python** > **Расширенные**.)

### <a name="completion-results"></a>Результаты завершения

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Завершение членов отображает пересечение членов** | Off | Если параметр задан, отображаются только завершения, поддерживаемые всеми возможными типами. |
| **Фильтрация списка по поисковой строке** | включить | Фильтрует предлагаемые варианты завершения во время ввода (по умолчанию флажок установлен). |
| **Автоматически показывать завершения для всех идентификаторов** | включить | Снимите этот флажок, чтобы отключить завершения как в редакторе, так и в **интерактивных** окнах. |

### <a name="selection-in-completion-list"></a>Выбор в списке завершения

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Подтверждено путем ввода следующих символов** | **{}\[\]().,:;+-*/%&&#124;^~=<>#@\\** | Как правило, эти символы следуют за идентификатором, который можно выбрать в списке завершения, чтобы было удобно фиксировать завершение вводом одного символа. Вы можете по мере необходимости добавлять определенные символы в список и удалять их оттуда.  |
| **Ввод фиксирует текущее завершение** | включить | Когда этот параметр установлен, выбранное завершение применяется при нажатии клавиши **ВВОД** или вводе любого из указанных выше символов (разумеется, вы не можете включить клавишу **ВВОД** в этот список, так как она не обозначена никаким символом). |
| **Добавлять новую строку по нажатию клавиши ВВОД в конце полностью введенного слова** | Off | По умолчанию, если ввести целиком слово, отображаемое во всплывающем окне завершения, и нажать клавишу **ВВОД**, это завершение фиксируется. Когда этот параметр задан, вы фиксируете завершения сразу после ввода идентификатора, а при нажатии клавиши **ВВОД** вставляется новая строка. |

### <a name="miscellaneous-options"></a>Прочие параметры

| Параметр | Значение по умолчанию | Описание |
| --- | --- | --- |
| **Переходить в режим структурирования после открытия файлов** | включить | Автоматически включает функцию структурирования Visual Studio в редакторе при открытии файла с кодом Python. |
| **Вставка удаляет запросы REPL** | включить | Удаляет **>>>** и **...** из вставленного текста, упрощая перенос кода из **интерактивного** окна в редактор. Снимите этот флажок, если хотите сохранить эти символы при вставке из других источников. |
| **Имена цветов по типам** | включить | Включает раскраску синтаксических конструкций в коде Python. |

![Вкладка "Дополнительно" диалогового окна текстового редактора Python](media/options-editor-advanced.png)

## <a name="fonts-and-colors-options"></a>Параметр "Шрифты и цвета"

(Вкладка **Среда** > **Шрифты и цвета** в группе **Текстовый редактор**.)

Все имена параметров Python содержат префикс **Python** и не нуждаются в пояснениях. Шрифт по умолчанию для всех цветовых тем Visual Studio — Consolas (обычный), 10 пунктов (не полужирный). Цвета по умолчанию зависят от темы. Как правило, вы можете изменить цвет или шрифт, если с параметрами по умолчанию текст читается тяжело.

![Параметры шрифта и цвета Python](media/options-fonts-and-colors.png)
