---
title: Указание команд, предваряющих инструментирование, и команд после инструментирования | Документация Майкрософт
description: Сведения о том, как можно указать команды, которые выполняются до или после инструментирования двоичных файлов в сеансе анализа производительности.
ms.date: 11/04/2016
ms.topic: how-to
f1_keywords:
- vs.performance.property.instrument
helpviewer_keywords:
- profiling tools, pre-instrument events
- events [Visual Studio], pre-instrument
- pre-instrument events, performance tools
ms.assetid: 6a8d5340-1d1b-4d81-88dd-8e1f435eb828
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: 7f5bc12a8b0ffb7ef0fa1a78b771ced829f4d73c
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99955818"
---
# <a name="how-to-specify-pre--and-post-instrument-commands"></a>Практическое руководство. Указание команд, предваряющих инструментирование, и команд после инструментирования

Можно указать команды, которые выполняются до или после инструментирования двоичных файлов в сеансе анализа производительности. Каждую команду, выполняемую из командной строки, можно указать как событие, предшествующее инструментированию или следующее за ним. Например, можно указать команды, которые автоматизируют повторное подписание сборки ключом строгого имени в пакетном файле, выполняемое после инструментирования двоичных файлов.

Можно задать команды для всех инструментируемых двоичных файлов в сеансе профилирования или для отдельных двоичных файлов. При этом можно указать только одну команду, предшествующую инструментированию, и только одну команду, выполняющуюся после инструментирования. Нельзя одновременно задать команды для всех двоичных файлов и для отдельных двоичных файлов. При указании команд для всех двоичных файлов, команды выполняются до или после инструментирования каждого двоичного файла в сеансе.

Рабочий каталог, в котором выполняются команды, зависит от операционной системы, в которой выполняется [!INCLUDE[vs_current_short](../code-quality/includes/vs_current_short_md.md)], и целевой платформы профилируемого приложения.

Сведения о пути к средствам профилирования см. в статье [Указание пути к программам командной строки средств профилирования](../profiling/specifying-the-path-to-profiling-tools-command-line-tools.md).

## <a name="to-specify-pre-instrument-commands"></a>Указание команд, предшествующих инструментированию

1. Выполните одно из следующих действий.

    - Чтобы указать команды, предшествующие инструментированию для всех двоичных файлов в сеансе анализа производительности, выберите узел сеанса анализа производительности в **обозревателе производительности**, а затем щелкните правой кнопкой мыши и выберите пункт **Свойства**.

    - Чтобы указать команды, предшествующие инструментированию для конкретного двоичного файла, щелкните правой кнопкой мыши имя двоичного файла в списке **Цели** сеанса анализа производительности, а затем выберите пункт **Свойства**.

2. В окне **Страницы свойств** щелкните **Инструментирование**.

3. Введите команду в текстовое поле **Командная строка** в разделе **События до инструментирования**.

    > [!NOTE]
    > Можно нажать кнопку с многоточием **(...)** справа от поля **Командная строка** и выбрать соответствующий EXE-, CMD- или BAT-файл.

4. Нажмите кнопку **ОК**.

     Чтобы запретить выполнение команды, не удаляя ее, установите флажок **Исключить из инструментирования**. Для изменения параметров компилятора или компоновщика используйте страницы свойств проекта.

## <a name="to-specify-post-instrument-commands"></a>Указание команд после инструментирования

1. Выполните одно из следующих действий.

    - Чтобы указать команды, выполняющиеся после инструментирования для всех двоичных файлов в сеансе анализа производительности, выберите узел сеанса анализа производительности в **обозревателе производительности**, а затем щелкните правой кнопкой мыши и выберите **Свойства**.

    - Чтобы указать команды, выполняющиеся после инструментирования для конкретного двоичного файла, щелкните правой кнопкой мыши имя двоичного файла в списке **Цели** сеанса анализа производительности, а затем выберите пункт **Свойства**.

2. В окне **Страницы свойств** щелкните **Инструментирование**.

3. Введите команду в текстовое поле **Командная строка** в разделе **События после инструментирования**.

    > [!NOTE]
    > Можно нажать кнопку с многоточием **(...)** справа от поля **Командная строка** и выбрать соответствующий EXE-, CMD- или BAT-файл.

4. Нажмите кнопку **ОК**.

     Чтобы запретить выполнение команды, не удаляя ее, установите флажок **Исключить из инструментирования**. Для изменения параметров компилятора или компоновщика используйте страницы свойств проекта.

## <a name="see-also"></a>См. также

[Настройка сеансов анализа производительности](../profiling/configuring-performance-sessions.md)
