---
title: Роли контроллера и агента тестирования
description: Сведения о том, как создать и настроить параметр тестирования, в котором для распределения тестирования между несколькими компьютерами с помощью Visual Studio используются контроллер и агент тестирования.
ms.custom: SEO-VS-2020
ms.date: 10/20/2016
ms.topic: conceptual
helpviewer_keywords:
- testing, walkthroughs, test controller and test agents
- test agent, walkthrough
- walkthroughs [Visual Studio ALM] testing
- test controller, walkthrough
- walkthroughs, test controller and test agents
ms.assetid: 57ed43ae-4e67-4139-8aec-3e9fceb0a745
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.openlocfilehash: 163cb3d541b054d22dc46df0b8e1e4735ac3fd50
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99964671"
---
# <a name="assign-roles-to-a-test-controller-and-test-agent"></a>Назначение ролей контроллеру и агенту тестирования

В этой статье описывается создание и настройка параметра тестирования, в котором для распределения тестирования между несколькими компьютерами с помощью Visual Studio используются контроллер и агент тестирования. Здесь также показано, как добавить в параметр тестирования адаптеры диагностики и данных.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="prerequisites"></a>предварительные требования

- Создайте модульные тесты или закодированные тесты пользовательского интерфейса, которые будут выполняться с параметром тестирования.

- Установите контроллер и агенты тестирования. Дополнительные сведения об установке контроллеров и агентов тестирования см. в разделе [Установка и настройка агентов тестирования](../test/lab-management/install-configure-test-agents.md).

## <a name="to-create-and-configure-a-test-setting"></a>Создание и настройка параметра тестирования

1. В **обозревателе решений** щелкните правой кнопкой мыши папку **Элементы решения**, выберите команду **Добавить** и пункт **Создать элемент**.

     Откроется диалоговое окно **Добавление нового элемента**.

2. В области **Установленные шаблоны** выберите пункт **Параметры тестирования**.

3. В поле **Имя** введите **TestSettingDistributedTestWalkthrough**.

4. Выберите **Добавить**.

     В **обозревателе решений** появится новый файл *TestSettingDistributedTestWalkthrough.testsettings*, расположенный в папке **Элементы решения**.

     Откроется диалоговое окно **Параметры тестирования**. Выбирается страница **Общее**.

     Теперь вы можете редактировать и сохранять значения параметров тестирования.

5. Введите имя для параметров тестирования в поле **Имя**.

6. В поле **Описание** введите **Параметры распределенного теста**.

7. Оставьте флажок **Схема именования по умолчанию** установленным.

## <a name="to-assign-roles-to-a-test-controller-and-test-agents"></a>Назначение ролей контроллеру и агентам тестирования

1. Выберите пункт **Роли**.

     Откроется страница **Роли**.

2. Для удаленного запуска теста в раскрывающемся списке **Способ выполнения теста** выберите **Удаленное выполнение**.

3. В раскрывающемся списке **Контроллер** введите имя компьютера [контроллера тестирования](../test/lab-management/install-configure-test-agents.md).

    > [!NOTE]
    > Если контроллер добавляется в первый раз, в раскрывающемся списке не будут перечислены другие контроллеры. Этот список заполняется ранее добавленными контроллерами, которые указаны в других параметрах тестирования.

4. В разделе **Роли** нажмите **Добавить**.

5. В выделенной строке в столбце **Имя** введите **Распределенный тест**.

## <a name="to-assign-a-diagnostic-and-data-adapter-to-your-test-setting"></a>Назначение параметру тестирования адаптера данных и диагностики

1. Выберите пункт **Данные и диагностика**.

     Откроется страница **Данные и диагностика**.

2. Убедитесь, что в поле **Роль** выбрана роль **Распределенный тест**.

3. В поле **Данные и диагностика для выбранной роли** выберите адаптеры **IntelliTrace** и **Сведения о системе**.

     Дополнительные сведения об этих и других адаптерах, которые можно использовать в параметрах тестирования, см. в разделе [Настройка модульных тестов](../test/configure-unit-tests-by-using-a-dot-runsettings-file.md).

4. Выберите пункт **Узлы**.

5. Если на компьютере установлена 64-разрядная версия Microsoft Windows, а тест компилировался в конфигурации **Любой ЦП**, в раскрывающемся списке **Выполнять тесты в 32- или 64-разрядном процессе** выберите **Выполнять тесты в 64-разрядном процессе на 64-разрядном компьютере** (необязательно).

    > [!TIP]
    > Для максимальной гибкости тестовые проекты следует компилировать в конфигурации **Любой ЦП**. Тогда выполнение возможно как на 32-разрядных, так и на 64-разрядных агентах. Компиляция тестовых проектов в конфигурации **64 разряда** не дает никаких преимуществ.

6. Чтобы сохранить новые параметры тестирования, нажмите кнопку **Применить**.

7. Нажмите кнопку **Закрыть**.

::: moniker range="vs-2017"

8. В меню **Тестирование** щелкните **Параметры тестирования** > **Выбрать файл параметров тестирования** и файл *TestSettingDistributedTestWalkthrough.testsettings*.

::: moniker-end

::: moniker range=">=vs-2019"

8. В меню **Тестирование** щелкните **Выбрать файл параметров**. Найдите и выберите файл *TestSettingDistributedTestWalkthrough.testsettings*.

::: moniker-end

9. Запустите тест обычным образом.

     Когда контроллер тестирования обрабатывает модульные тесты и закодированные тесты пользовательского интерфейса, контроллер тестирования разделяет тесты на группы по 100 тестов и передает их на компьютер агента тестирования. Например, при наличии 250 модульных тестов и трех агентов тестирования первые 100 модульных тестов направляются агенту 1, следующие 100 модульных тестов направляются агенту 2, а оставшиеся 50 модульных тестов направляются агенту 3.

## <a name="see-also"></a>См. также раздел

- [Установка и настройка агентов тестирования](../test/lab-management/install-configure-test-agents.md)
